2024-11-04 10:15:30,557 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92459 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:15:30,559 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:15:30,858 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:15:30,888 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 26 ms. Found 1 JPA repository interface.
2024-11-04 10:15:31,123 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:15:31,128 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:15:31,128 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:15:31,147 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:15:31,147 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 564 ms
2024-11-04 10:15:31,229 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:15:31,253 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:15:31,265 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:15:31,357 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:15:31,367 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:15:31,550 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@136fece2
2024-11-04 10:15:31,551 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:15:31,590 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:15:31,590 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:15:31,881 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:15:31,933 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:15:32,091 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@4ac0fdc7}
2024-11-04 10:15:32,102 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:15:32,109 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:15:32,112 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:15:32,115 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:15:32,115 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:15:32,115 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:15:32,115 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:15:32,116 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:15:32,116 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:15:32,120 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:15:32,120 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:15:32,130 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:15:32,328 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1b62ad1e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@714a4ba2, org.springframework.security.web.context.SecurityContextHolderFilter@2e7dd504, org.springframework.security.web.header.HeaderWriterFilter@6c9e7af2, org.springframework.security.web.authentication.logout.LogoutFilter@63e4bbf9, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@6ddc817f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@64ff0eaa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5643052d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16718e1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@764d54a0, org.springframework.security.web.session.SessionManagementFilter@4e3bc13b, org.springframework.security.web.access.ExceptionTranslationFilter@40304938, org.springframework.security.web.access.intercept.AuthorizationFilter@536f389]
2024-11-04 10:15:32,483 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:15:32,487 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.12 seconds (process running for 2.455)
2024-11-04 10:18:21,802 INFO  [http-nio-8080-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:18:21,855 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1b62ad1e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@714a4ba2, org.springframework.security.web.context.SecurityContextHolderFilter@2e7dd504, org.springframework.security.web.header.HeaderWriterFilter@6c9e7af2, org.springframework.security.web.authentication.logout.LogoutFilter@63e4bbf9, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@6ddc817f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@64ff0eaa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5643052d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16718e1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@764d54a0, org.springframework.security.web.session.SessionManagementFilter@4e3bc13b, org.springframework.security.web.access.ExceptionTranslationFilter@40304938, org.springframework.security.web.access.intercept.AuthorizationFilter@536f389]] (1/1)
2024-11-04 10:18:21,855 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:18:21,856 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:18:21,857 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:18:21,858 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:18:21,860 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:18:21,860 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:18:21,861 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:18:21,861 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:18:21,861 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:18:21,861 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:18:21,862 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:18:21,862 TRACE [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:18:21,862 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:18:21,862 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:18:21,862 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:18:21,863 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:18:21,863 TRACE [http-nio-8080-exec-2] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:18:21,864 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:18:21,864 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:18:21,864 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:18:21,864 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:18:21,865 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1492/0x0000000801580a10@3bb24ad4
2024-11-04 10:18:21,865 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:18:21,972 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 10:18:21,973 TRACE [http-nio-8080-exec-2] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:18:22,388 DEBUG [http-nio-8080-exec-2] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:18:22,389 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 10:18:22,395 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 10:18:22,396 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 10:18:22,396 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 10:18:22,396 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 10:18:22,453 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T15:18:22.453258Z, has been generated
2024-11-04 10:18:22,472 TRACE [http-nio-8080-exec-2] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:19:22,345 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1b62ad1e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@714a4ba2, org.springframework.security.web.context.SecurityContextHolderFilter@2e7dd504, org.springframework.security.web.header.HeaderWriterFilter@6c9e7af2, org.springframework.security.web.authentication.logout.LogoutFilter@63e4bbf9, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@6ddc817f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@64ff0eaa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5643052d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16718e1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@764d54a0, org.springframework.security.web.session.SessionManagementFilter@4e3bc13b, org.springframework.security.web.access.ExceptionTranslationFilter@40304938, org.springframework.security.web.access.intercept.AuthorizationFilter@536f389]] (1/1)
2024-11-04 10:19:22,347 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:19:22,347 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:19:22,348 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:19:22,348 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:19:22,348 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:19:22,349 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:19:22,349 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:19:22,349 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:19:22,349 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:19:22,349 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:19:22,371 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {sub=Admin@Admin.com, roles=[ROLE_ADMIN], scope=READ DELETE WRITE, iss=gautam, exp=2024-11-07T03:18:22Z, iat=2024-11-04T15:18:22Z}
2024-11-04 10:19:22,372 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 10:19:22,418 TRACE [http-nio-8080-exec-3] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:19:22,419 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 10:19:22,422 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:19:22,422 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:19:22,422 TRACE [http-nio-8080-exec-3] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:19:22,423 TRACE [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim scope
2024-11-04 10:19:22,423 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:19:22,424 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3cabd4ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]]
2024-11-04 10:19:22,424 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:19:22,424 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:19:22,424 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:19:22,424 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:19:22,424 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3cabd4ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]]
2024-11-04 10:19:22,424 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:19:22,425 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:19:22,425 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:19:22,425 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:19:22,425 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 10:19:22,426 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3cabd4ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 10:19:22,429 ERROR [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 10:19:22,429 TRACE [http-nio-8080-exec-3] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1b62ad1e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@714a4ba2, org.springframework.security.web.context.SecurityContextHolderFilter@2e7dd504, org.springframework.security.web.header.HeaderWriterFilter@6c9e7af2, org.springframework.security.web.authentication.logout.LogoutFilter@63e4bbf9, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@6ddc817f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@64ff0eaa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5643052d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16718e1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@764d54a0, org.springframework.security.web.session.SessionManagementFilter@4e3bc13b, org.springframework.security.web.access.ExceptionTranslationFilter@40304938, org.springframework.security.web.access.intercept.AuthorizationFilter@536f389]] (1/1)
2024-11-04 10:19:22,435 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@7b51e58a
2024-11-04 10:19:22,435 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@3cabd4ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]]
2024-11-04 10:19:22,435 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Secured GET /error
2024-11-04 10:21:31,098 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:21:31,114 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:21:31,135 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:21:34,187 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92641 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:21:34,189 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:21:34,487 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:21:34,511 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 20 ms. Found 1 JPA repository interface.
2024-11-04 10:21:34,747 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:21:34,752 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:21:34,752 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:21:34,772 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:21:34,772 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 562 ms
2024-11-04 10:21:34,849 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:21:34,876 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:21:34,893 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:21:34,985 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:21:34,997 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:21:35,175 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@16e907b6
2024-11-04 10:21:35,176 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:21:35,205 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:21:35,205 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:21:35,629 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:21:35,668 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:21:35,839 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@712213ed}
2024-11-04 10:21:35,850 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:21:35,858 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:21:35,861 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:21:35,865 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:21:35,865 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:21:35,865 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:21:35,865 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:21:35,865 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:21:35,865 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:21:35,869 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:21:35,869 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:21:35,880 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:21:36,087 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@628cb8e0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19f9404d, org.springframework.security.web.context.SecurityContextHolderFilter@3031d9e9, org.springframework.security.web.header.HeaderWriterFilter@443b9ebb, org.springframework.security.web.authentication.logout.LogoutFilter@5e0b7f58, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@5481f204, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@79169472, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61c42e54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c651286, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@171b0d3, org.springframework.security.web.session.SessionManagementFilter@32f2de5c, org.springframework.security.web.access.ExceptionTranslationFilter@4db10b9f, org.springframework.security.web.access.intercept.AuthorizationFilter@16718e1b]
2024-11-04 10:21:36,258 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:21:36,263 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.327 seconds (process running for 2.562)
2024-11-04 10:21:46,047 INFO  [http-nio-8080-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:21:46,061 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@628cb8e0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19f9404d, org.springframework.security.web.context.SecurityContextHolderFilter@3031d9e9, org.springframework.security.web.header.HeaderWriterFilter@443b9ebb, org.springframework.security.web.authentication.logout.LogoutFilter@5e0b7f58, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@5481f204, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@79169472, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61c42e54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c651286, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@171b0d3, org.springframework.security.web.session.SessionManagementFilter@32f2de5c, org.springframework.security.web.access.ExceptionTranslationFilter@4db10b9f, org.springframework.security.web.access.intercept.AuthorizationFilter@16718e1b]] (1/1)
2024-11-04 10:21:46,062 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:21:46,062 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:21:46,062 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:21:46,063 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:21:46,064 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:21:46,064 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:21:46,065 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:21:46,065 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:21:46,065 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:21:46,065 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:21:46,065 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:21:46,065 TRACE [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:21:46,065 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:21:46,065 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:21:46,066 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:21:46,066 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:21:46,066 TRACE [http-nio-8080-exec-2] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:21:46,067 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:21:46,067 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:21:46,067 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:21:46,067 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:21:46,067 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1492/0x0000000801580000@3ab3a69c
2024-11-04 10:21:46,068 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:21:46,108 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 10:21:46,108 TRACE [http-nio-8080-exec-2] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:21:46,349 DEBUG [http-nio-8080-exec-2] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:21:46,349 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 10:21:46,355 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 10:21:46,355 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 10:21:46,356 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 10:21:46,356 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 10:21:46,389 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T15:21:46.389698Z, has been generated
2024-11-04 10:21:46,402 TRACE [http-nio-8080-exec-2] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:22:07,882 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@628cb8e0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19f9404d, org.springframework.security.web.context.SecurityContextHolderFilter@3031d9e9, org.springframework.security.web.header.HeaderWriterFilter@443b9ebb, org.springframework.security.web.authentication.logout.LogoutFilter@5e0b7f58, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@5481f204, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@79169472, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61c42e54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c651286, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@171b0d3, org.springframework.security.web.session.SessionManagementFilter@32f2de5c, org.springframework.security.web.access.ExceptionTranslationFilter@4db10b9f, org.springframework.security.web.access.intercept.AuthorizationFilter@16718e1b]] (1/1)
2024-11-04 10:22:07,883 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:22:07,883 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:22:07,883 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:22:07,884 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:22:07,884 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:22:07,884 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:22:07,884 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:22:07,884 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:22:07,884 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:22:07,885 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:22:07,901 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {sub=Admin@Admin.com, roles=[ROLE_ADMIN], scope=READ DELETE WRITE, iss=gautam, exp=2024-11-07T03:21:46Z, iat=2024-11-04T15:21:46Z}
2024-11-04 10:22:07,902 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 10:22:07,935 TRACE [http-nio-8080-exec-3] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:22:07,935 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 10:22:07,938 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:22:07,938 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:22:07,939 TRACE [http-nio-8080-exec-3] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:22:07,939 TRACE [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim scope
2024-11-04 10:22:07,940 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:22:07,940 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a91f7f08, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]]
2024-11-04 10:22:07,940 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:22:07,940 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:22:07,940 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:22:07,940 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:22:07,940 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a91f7f08, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]]
2024-11-04 10:22:07,940 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:22:07,940 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:22:07,940 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:22:07,941 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:22:07,941 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 10:22:07,941 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a91f7f08, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 10:22:07,945 ERROR [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 10:22:07,945 TRACE [http-nio-8080-exec-3] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:22:07,949 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@628cb8e0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19f9404d, org.springframework.security.web.context.SecurityContextHolderFilter@3031d9e9, org.springframework.security.web.header.HeaderWriterFilter@443b9ebb, org.springframework.security.web.authentication.logout.LogoutFilter@5e0b7f58, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@5481f204, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@79169472, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61c42e54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c651286, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@171b0d3, org.springframework.security.web.session.SessionManagementFilter@32f2de5c, org.springframework.security.web.access.ExceptionTranslationFilter@4db10b9f, org.springframework.security.web.access.intercept.AuthorizationFilter@16718e1b]] (1/1)
2024-11-04 10:22:07,949 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 10:22:07,949 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:22:07,949 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:22:07,949 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:22:07,949 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@1f72607a
2024-11-04 10:22:07,950 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@a91f7f08, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]]
2024-11-04 10:22:07,950 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Secured GET /error
2024-11-04 10:23:03,768 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:23:03,775 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:23:03,788 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:23:05,687 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92654 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:23:05,688 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:23:05,956 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:23:05,979 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 20 ms. Found 1 JPA repository interface.
2024-11-04 10:23:06,201 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:23:06,206 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:23:06,207 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:23:06,225 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:23:06,225 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 521 ms
2024-11-04 10:23:06,301 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:23:06,330 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:23:06,342 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:23:06,420 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:23:06,432 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:23:06,556 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ffa91dc
2024-11-04 10:23:06,557 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:23:06,581 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:23:06,581 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:23:06,872 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:23:06,910 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:23:07,058 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@6ce8bf64}
2024-11-04 10:23:07,066 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:23:07,072 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:23:07,074 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:23:07,077 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:23:07,078 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:23:07,078 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:23:07,078 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:23:07,078 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:23:07,078 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:23:07,082 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:23:07,082 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:23:07,093 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:23:07,258 WARN  [main] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext :Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/learning/jwt_oauth2/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
2024-11-04 10:23:07,259 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:23:07,259 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:23:07,263 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:23:07,264 INFO  [main] org.apache.catalina.core.StandardService :Stopping service [Tomcat]
2024-11-04 10:23:07,269 INFO  [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger :

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-04 10:23:07,275 ERROR [main] org.springframework.boot.SpringApplication :Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/learning/jwt_oauth2/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:896)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:849)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.learning.jwt_oauth2.JwtOauth2Application.main(JwtOauth2Application.java:13)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/learning/jwt_oauth2/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1689)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1543)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1511)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1392)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:888)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	... 37 common frames omitted
Caused by: java.lang.IllegalArgumentException: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.util.Assert.isTrue(Assert.java:129)
	at org.springframework.security.authorization.AuthorityAuthorizationManager.toNamedRolesArray(AuthorityAuthorizationManager.java:128)
	at org.springframework.security.authorization.AuthorityAuthorizationManager.hasAnyRole(AuthorityAuthorizationManager.java:108)
	at org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizedUrl.hasRole(AuthorizeHttpRequestsConfigurer.java:291)
	at com.learning.jwt_oauth2.config.SecurityConfig.lambda$securityFilterChain$0(SecurityConfig.java:112)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1467)
	at com.learning.jwt_oauth2.config.SecurityConfig.securityFilterChain(SecurityConfig.java:109)
	at com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$2(<generated>)
	at com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:348)
	at com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:146)
	... 38 common frames omitted
2024-11-04 10:24:11,005 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92658 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:24:11,006 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:24:11,280 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:24:11,301 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interface.
2024-11-04 10:24:11,524 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:24:11,530 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:24:11,530 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:24:11,548 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:24:11,548 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 526 ms
2024-11-04 10:24:11,655 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:24:11,714 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:24:11,733 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:24:11,832 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:24:11,842 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:24:11,952 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6de610c6
2024-11-04 10:24:11,953 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:24:11,973 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:24:11,974 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:24:12,281 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:24:12,309 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:24:12,465 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@58189132}
2024-11-04 10:24:12,473 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:24:12,480 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:24:12,483 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:24:12,486 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:24:12,486 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:24:12,486 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:24:12,487 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:24:12,487 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:24:12,487 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:24:12,491 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:24:12,491 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:24:12,503 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:24:12,718 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b9c386d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fb28ed, org.springframework.security.web.context.SecurityContextHolderFilter@af04d6d, org.springframework.security.web.header.HeaderWriterFilter@e0c03bd, org.springframework.security.web.authentication.logout.LogoutFilter@2396dc4e, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@536f389, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d2bfc9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3816efab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@334ac669, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b33f7a0, org.springframework.security.web.session.SessionManagementFilter@1d160161, org.springframework.security.web.access.ExceptionTranslationFilter@373c8f35, org.springframework.security.web.access.intercept.AuthorizationFilter@304cad3a]
2024-11-04 10:24:12,895 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:24:12,900 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.133 seconds (process running for 2.344)
2024-11-04 10:24:17,885 INFO  [http-nio-8080-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:24:17,898 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b9c386d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fb28ed, org.springframework.security.web.context.SecurityContextHolderFilter@af04d6d, org.springframework.security.web.header.HeaderWriterFilter@e0c03bd, org.springframework.security.web.authentication.logout.LogoutFilter@2396dc4e, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@536f389, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d2bfc9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3816efab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@334ac669, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b33f7a0, org.springframework.security.web.session.SessionManagementFilter@1d160161, org.springframework.security.web.access.ExceptionTranslationFilter@373c8f35, org.springframework.security.web.access.intercept.AuthorizationFilter@304cad3a]] (1/1)
2024-11-04 10:24:17,898 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:24:17,898 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:24:17,898 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:24:17,899 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:24:17,900 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:24:17,900 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:24:17,900 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:24:17,900 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:24:17,900 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:24:17,901 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:24:17,901 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:24:17,901 TRACE [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:24:17,901 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:24:17,901 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:24:17,901 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:24:17,901 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:24:17,902 TRACE [http-nio-8080-exec-2] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:24:17,902 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:24:17,902 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:24:17,902 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:24:17,902 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:24:17,903 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1492/0x00000008015888b0@7fc35e84
2024-11-04 10:24:17,903 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:24:17,940 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 10:24:17,941 TRACE [http-nio-8080-exec-2] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:24:18,177 DEBUG [http-nio-8080-exec-2] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:24:18,177 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 10:24:18,180 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 10:24:18,181 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 10:24:18,181 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 10:24:18,181 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 10:24:18,215 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T15:24:18.214963Z, has been generated
2024-11-04 10:24:18,228 TRACE [http-nio-8080-exec-2] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:24:30,361 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b9c386d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fb28ed, org.springframework.security.web.context.SecurityContextHolderFilter@af04d6d, org.springframework.security.web.header.HeaderWriterFilter@e0c03bd, org.springframework.security.web.authentication.logout.LogoutFilter@2396dc4e, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@536f389, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d2bfc9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3816efab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@334ac669, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b33f7a0, org.springframework.security.web.session.SessionManagementFilter@1d160161, org.springframework.security.web.access.ExceptionTranslationFilter@373c8f35, org.springframework.security.web.access.intercept.AuthorizationFilter@304cad3a]] (1/1)
2024-11-04 10:24:30,363 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:24:30,363 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:24:30,363 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:24:30,363 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:24:30,363 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:24:30,363 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:24:30,364 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:24:30,364 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:24:30,364 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:24:30,364 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:24:30,382 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {sub=Admin@Admin.com, roles=[ROLE_ADMIN], scope=READ DELETE WRITE, iss=gautam, exp=2024-11-07T03:24:18Z, iat=2024-11-04T15:24:18Z}
2024-11-04 10:24:30,382 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 10:24:30,433 TRACE [http-nio-8080-exec-3] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:24:30,433 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 10:24:30,436 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:24:30,436 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:24:30,438 TRACE [http-nio-8080-exec-3] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:24:30,439 TRACE [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim scope
2024-11-04 10:24:30,439 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:24:30,440 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2484b929, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]]
2024-11-04 10:24:30,440 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:24:30,440 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:24:30,440 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:24:30,440 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:24:30,440 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2484b929, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]]
2024-11-04 10:24:30,440 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:24:30,440 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:24:30,441 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:24:30,441 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:24:30,441 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ADMIN]]
2024-11-04 10:24:30,442 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2484b929, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 10:24:30,446 ERROR [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 10:24:30,447 TRACE [http-nio-8080-exec-3] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b9c386d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fb28ed, org.springframework.security.web.context.SecurityContextHolderFilter@af04d6d, org.springframework.security.web.header.HeaderWriterFilter@e0c03bd, org.springframework.security.web.authentication.logout.LogoutFilter@2396dc4e, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@536f389, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d2bfc9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3816efab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@334ac669, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b33f7a0, org.springframework.security.web.session.SessionManagementFilter@1d160161, org.springframework.security.web.access.ExceptionTranslationFilter@373c8f35, org.springframework.security.web.access.intercept.AuthorizationFilter@304cad3a]] (1/1)
2024-11-04 10:24:30,451 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@371a800
2024-11-04 10:24:30,451 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2484b929, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[SCOPE_READ, SCOPE_DELETE, SCOPE_WRITE]]
2024-11-04 10:24:30,451 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Secured GET /error
2024-11-04 10:32:16,723 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:32:16,746 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:32:16,771 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:32:19,324 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92711 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:32:19,325 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:32:19,642 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:32:19,662 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interface.
2024-11-04 10:32:19,904 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:32:19,910 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:32:19,910 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:32:19,929 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:32:19,929 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 586 ms
2024-11-04 10:32:20,018 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:32:20,047 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:32:20,063 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:32:20,180 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:32:20,192 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:32:20,349 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c08c787
2024-11-04 10:32:20,349 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:32:20,380 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:32:20,381 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:32:20,758 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:32:20,791 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:32:20,952 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@623ed5ed}
2024-11-04 10:32:20,962 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:32:20,970 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:32:20,973 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:32:20,977 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:32:20,977 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:32:20,977 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:32:20,977 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:32:20,977 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:32:20,977 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:32:20,982 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:32:20,982 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:32:20,994 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:32:21,219 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d2bfc9f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd6bfb0, org.springframework.security.web.context.SecurityContextHolderFilter@6c9e7af2, org.springframework.security.web.header.HeaderWriterFilter@373c8f35, org.springframework.security.web.authentication.logout.LogoutFilter@63e81ac6, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@3b9c386d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@455cb6d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@af04d6d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a67bcaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb28ed, org.springframework.security.web.session.SessionManagementFilter@c651286, org.springframework.security.web.access.ExceptionTranslationFilter@3fe59f84, org.springframework.security.web.access.intercept.AuthorizationFilter@d5eca06]
2024-11-04 10:32:21,386 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:32:21,390 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.313 seconds (process running for 2.588)
2024-11-04 10:32:30,629 INFO  [http-nio-8080-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:32:30,648 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5d2bfc9f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd6bfb0, org.springframework.security.web.context.SecurityContextHolderFilter@6c9e7af2, org.springframework.security.web.header.HeaderWriterFilter@373c8f35, org.springframework.security.web.authentication.logout.LogoutFilter@63e81ac6, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@3b9c386d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@455cb6d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@af04d6d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a67bcaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb28ed, org.springframework.security.web.session.SessionManagementFilter@c651286, org.springframework.security.web.access.ExceptionTranslationFilter@3fe59f84, org.springframework.security.web.access.intercept.AuthorizationFilter@d5eca06]] (1/1)
2024-11-04 10:32:30,649 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:32:30,649 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:32:30,649 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:32:30,650 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:32:30,651 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:32:30,651 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:32:30,652 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:32:30,652 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:32:30,652 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:32:30,652 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:32:30,652 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:32:30,652 TRACE [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:32:30,652 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:32:30,652 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:32:30,653 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:32:30,653 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:32:30,653 TRACE [http-nio-8080-exec-2] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:32:30,653 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:32:30,654 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:32:30,654 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:32:30,654 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:32:30,654 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x000000080157b5e8@23305af5
2024-11-04 10:32:30,654 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:32:30,693 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 10:32:30,693 TRACE [http-nio-8080-exec-2] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:32:30,946 DEBUG [http-nio-8080-exec-2] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:32:30,946 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 10:32:30,948 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 10:32:30,949 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 10:32:30,949 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 10:32:30,949 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 10:32:30,978 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T15:32:30.978591Z, has been generated
2024-11-04 10:32:30,991 TRACE [http-nio-8080-exec-2] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:33:29,999 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:33:30,003 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:33:30,025 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:33:31,777 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92729 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:33:31,778 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:33:32,043 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:33:32,067 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interface.
2024-11-04 10:33:32,286 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:33:32,295 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:33:32,295 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:33:32,313 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:33:32,313 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 517 ms
2024-11-04 10:33:32,387 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:33:32,407 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:33:32,418 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:33:32,502 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:33:32,513 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:33:32,632 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7c956dda
2024-11-04 10:33:32,632 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:33:32,655 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:33:32,655 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:33:32,949 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:33:32,980 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:33:33,127 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@49482761}
2024-11-04 10:33:33,135 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:33:33,141 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:33:33,144 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:33:33,146 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:33:33,146 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:33:33,146 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:33:33,147 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:33:33,147 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:33:33,147 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:33:33,150 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:33:33,151 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:33:33,162 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:33:33,369 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]
2024-11-04 10:33:33,528 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:33:33,532 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 1.954 seconds (process running for 2.167)
2024-11-04 10:33:42,923 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:33:42,947 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]] (1/1)
2024-11-04 10:33:42,947 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:33:42,948 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:33:42,948 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:33:42,949 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:33:42,949 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:33:42,950 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:33:42,950 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:33:42,950 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:33:42,950 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:33:42,950 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:33:42,950 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:33:42,950 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:33:42,950 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:33:42,950 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:33:42,951 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:33:42,951 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:33:42,951 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:33:42,952 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:33:42,952 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:33:42,952 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:33:42,952 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:33:42,953 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x00000008015811b8@683ebf45
2024-11-04 10:33:42,953 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:33:42,993 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 10:33:42,993 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:33:43,275 DEBUG [http-nio-8080-exec-1] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:33:43,276 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 10:33:43,278 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 10:33:43,278 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 10:33:43,278 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 10:33:43,278 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 10:33:43,307 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T15:33:43.307760Z, has been generated
2024-11-04 10:33:43,320 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:34:19,236 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]] (1/1)
2024-11-04 10:34:19,237 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:34:19,237 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:34:19,237 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:34:19,237 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:34:19,238 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:34:19,238 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:34:19,238 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:34:19,238 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:34:19,238 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:34:19,238 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:34:19,255 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T03:33:43Z, iat=2024-11-04T15:33:43Z, roles=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]}
2024-11-04 10:34:19,255 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 10:34:19,313 TRACE [http-nio-8080-exec-3] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:34:19,314 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 10:34:19,316 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:34:19,316 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:34:19,317 TRACE [http-nio-8080-exec-3] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:34:19,318 TRACE [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 10:34:19,318 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:34:19,319 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d1ab2fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ROLE_ADMIN, ROLE_ROLE_CANDIDATE, ROLE_ROLE_MARKETING_MEMBER]]
2024-11-04 10:34:19,319 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:34:19,319 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:34:19,319 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:34:19,319 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:34:19,319 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d1ab2fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ROLE_ADMIN, ROLE_ROLE_CANDIDATE, ROLE_ROLE_MARKETING_MEMBER]]
2024-11-04 10:34:19,319 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:34:19,319 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:34:19,319 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:34:19,319 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:34:19,320 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 10:34:19,320 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d1ab2fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ROLE_ADMIN, ROLE_ROLE_CANDIDATE, ROLE_ROLE_MARKETING_MEMBER]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 10:34:19,324 ERROR [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 10:34:19,324 TRACE [http-nio-8080-exec-3] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:34:19,328 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]] (1/1)
2024-11-04 10:34:19,328 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 10:34:19,328 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:34:19,328 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:34:19,328 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:34:19,328 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@1ba029ee
2024-11-04 10:34:19,329 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d1ab2fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ROLE_ADMIN, ROLE_ROLE_CANDIDATE, ROLE_ROLE_MARKETING_MEMBER]]
2024-11-04 10:34:19,329 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Secured GET /error
2024-11-04 10:37:05,345 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:37:05,353 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:37:05,367 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:37:07,485 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92756 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:37:07,487 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:37:07,750 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:37:07,773 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interface.
2024-11-04 10:37:07,998 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:37:08,004 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:37:08,004 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:37:08,022 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:37:08,022 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 519 ms
2024-11-04 10:37:08,105 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:37:08,126 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:37:08,138 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:37:08,217 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:37:08,228 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:37:08,352 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6e3b2dd3
2024-11-04 10:37:08,353 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:37:08,377 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:37:08,377 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:37:08,682 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:37:08,717 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:37:08,876 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@d7c00de}
2024-11-04 10:37:08,885 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:37:08,892 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:37:08,895 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:37:08,898 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:37:08,899 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:37:08,899 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:37:08,899 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:37:08,899 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:37:08,899 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:37:08,904 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:37:08,904 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:37:08,917 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:37:09,134 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@52c2d1e8, org.springframework.security.web.header.HeaderWriterFilter@3031d9e9, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f4b7a2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e04c89d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@3816efab, org.springframework.security.web.access.ExceptionTranslationFilter@1a6df932, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]
2024-11-04 10:37:09,300 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:37:09,305 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.081 seconds (process running for 2.299)
2024-11-04 10:37:14,510 INFO  [http-nio-8080-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:37:14,531 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@52c2d1e8, org.springframework.security.web.header.HeaderWriterFilter@3031d9e9, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f4b7a2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e04c89d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@3816efab, org.springframework.security.web.access.ExceptionTranslationFilter@1a6df932, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 10:37:14,532 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:37:14,532 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:37:14,532 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:37:14,533 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:37:14,534 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:37:14,535 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:37:14,535 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:37:14,535 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:37:14,535 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:37:14,535 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:37:14,535 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:37:14,535 TRACE [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:37:14,535 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:37:14,535 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:37:14,536 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:37:14,536 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:37:14,536 TRACE [http-nio-8080-exec-2] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:37:14,537 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:37:14,537 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:37:14,537 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:37:14,537 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:37:14,537 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x0000000801580fb8@3b2aa3fb
2024-11-04 10:37:14,538 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:37:14,575 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 10:37:14,575 TRACE [http-nio-8080-exec-2] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:37:14,812 DEBUG [http-nio-8080-exec-2] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:37:14,812 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 10:37:14,814 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 10:37:14,815 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 10:37:14,815 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 10:37:14,815 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 10:37:14,845 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T15:37:14.844954Z, has been generated
2024-11-04 10:37:14,858 TRACE [http-nio-8080-exec-2] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:37:36,464 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@52c2d1e8, org.springframework.security.web.header.HeaderWriterFilter@3031d9e9, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f4b7a2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e04c89d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@3816efab, org.springframework.security.web.access.ExceptionTranslationFilter@1a6df932, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 10:37:36,469 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:37:36,469 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:37:36,469 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:37:36,470 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:37:36,470 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:37:36,470 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:37:36,471 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:37:36,471 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:37:36,471 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:37:36,472 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:37:36,498 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T03:37:14Z, iat=2024-11-04T15:37:14Z, roles=[ADMIN, CANDIDATE, MARKETING_MEMBER]}
2024-11-04 10:37:36,498 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 10:37:36,537 TRACE [http-nio-8080-exec-3] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:37:36,537 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 10:37:36,540 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:37:36,540 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:37:36,540 TRACE [http-nio-8080-exec-3] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:37:36,541 TRACE [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 10:37:36,542 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:37:36,543 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@832f4167, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]]
2024-11-04 10:37:36,543 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:37:36,543 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:37:36,543 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:37:36,543 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:37:36,543 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@832f4167, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]]
2024-11-04 10:37:36,543 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:37:36,543 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:37:36,543 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:37:36,543 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:37:36,543 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 10:37:36,544 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@832f4167, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 10:37:36,546 ERROR [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 10:37:36,547 TRACE [http-nio-8080-exec-3] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@52c2d1e8, org.springframework.security.web.header.HeaderWriterFilter@3031d9e9, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f4b7a2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e04c89d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@3816efab, org.springframework.security.web.access.ExceptionTranslationFilter@1a6df932, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 10:37:36,551 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@1a67d88
2024-11-04 10:37:36,551 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@832f4167, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]]
2024-11-04 10:37:36,551 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Secured GET /error
2024-11-04 10:41:56,008 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:41:56,034 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:41:56,071 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:41:58,707 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92781 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:41:58,708 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:41:59,016 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:41:59,048 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 29 ms. Found 1 JPA repository interface.
2024-11-04 10:41:59,285 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:41:59,290 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:41:59,290 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:41:59,313 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:41:59,313 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 587 ms
2024-11-04 10:41:59,392 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:41:59,439 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:41:59,456 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:41:59,546 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:41:59,557 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:41:59,725 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@186481d4
2024-11-04 10:41:59,725 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:41:59,761 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:41:59,762 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:42:00,082 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:42:00,150 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:42:00,315 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@2305aad0}
2024-11-04 10:42:00,324 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:42:00,331 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:42:00,334 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:42:00,337 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:42:00,337 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:42:00,338 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:42:00,338 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:42:00,338 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:42:00,338 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:42:00,342 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:42:00,342 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:42:00,352 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:42:00,510 WARN  [main] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext :Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/learning/jwt_oauth2/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
2024-11-04 10:42:00,511 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:42:00,511 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:42:00,515 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:42:00,516 INFO  [main] org.apache.catalina.core.StandardService :Stopping service [Tomcat]
2024-11-04 10:42:00,521 INFO  [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger :

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-11-04 10:42:00,527 ERROR [main] org.springframework.boot.SpringApplication :Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/learning/jwt_oauth2/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:896)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:849)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1439)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.learning.jwt_oauth2.JwtOauth2Application.main(JwtOauth2Application.java:13)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/learning/jwt_oauth2/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1689)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1653)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1543)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1511)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1392)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:888)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644)
	... 37 common frames omitted
Caused by: java.lang.IllegalArgumentException: ROLE_ADMIN should not start with ROLE_ since ROLE_ is automatically prepended when using hasAnyRole. Consider using hasAnyAuthority instead.
	at org.springframework.util.Assert.isTrue(Assert.java:129)
	at org.springframework.security.authorization.AuthorityAuthorizationManager.toNamedRolesArray(AuthorityAuthorizationManager.java:128)
	at org.springframework.security.authorization.AuthorityAuthorizationManager.hasAnyRole(AuthorityAuthorizationManager.java:108)
	at org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$AuthorizedUrl.hasRole(AuthorizeHttpRequestsConfigurer.java:291)
	at com.learning.jwt_oauth2.config.SecurityConfig.lambda$securityFilterChain$0(SecurityConfig.java:112)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1467)
	at com.learning.jwt_oauth2.config.SecurityConfig.securityFilterChain(SecurityConfig.java:109)
	at com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$4(<generated>)
	at com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:348)
	at com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:146)
	... 38 common frames omitted
2024-11-04 10:42:14,065 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92794 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:42:14,066 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:42:14,347 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:42:14,371 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 20 ms. Found 1 JPA repository interface.
2024-11-04 10:42:14,593 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:42:14,598 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:42:14,598 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:42:14,616 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:42:14,616 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 534 ms
2024-11-04 10:42:14,699 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:42:14,723 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:42:14,735 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:42:14,816 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:42:14,829 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:42:14,950 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3fd33f48
2024-11-04 10:42:14,951 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:42:14,973 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:42:14,973 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:42:15,291 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:42:15,313 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:42:15,474 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@2ba4b32b}
2024-11-04 10:42:15,483 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:42:15,489 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:42:15,492 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:42:15,494 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:42:15,495 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:42:15,495 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:42:15,495 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:42:15,495 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:42:15,495 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:42:15,499 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:42:15,499 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:42:15,510 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:42:15,722 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e68ccc9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1784fcab, org.springframework.security.web.context.SecurityContextHolderFilter@7da40bf4, org.springframework.security.web.header.HeaderWriterFilter@2f650dae, org.springframework.security.web.authentication.logout.LogoutFilter@7fb313e3, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@63e4bbf9, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@edf4973, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c651286, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d6e09f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@455cb6d9, org.springframework.security.web.session.SessionManagementFilter@5101b9, org.springframework.security.web.access.ExceptionTranslationFilter@3c6e407, org.springframework.security.web.access.intercept.AuthorizationFilter@2396dc4e]
2024-11-04 10:42:15,890 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:42:15,894 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.067 seconds (process running for 2.277)
2024-11-04 10:42:23,388 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:42:23,403 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6e68ccc9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1784fcab, org.springframework.security.web.context.SecurityContextHolderFilter@7da40bf4, org.springframework.security.web.header.HeaderWriterFilter@2f650dae, org.springframework.security.web.authentication.logout.LogoutFilter@7fb313e3, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@63e4bbf9, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@edf4973, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c651286, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d6e09f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@455cb6d9, org.springframework.security.web.session.SessionManagementFilter@5101b9, org.springframework.security.web.access.ExceptionTranslationFilter@3c6e407, org.springframework.security.web.access.intercept.AuthorizationFilter@2396dc4e]] (1/1)
2024-11-04 10:42:23,403 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:42:23,403 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:42:23,404 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:42:23,405 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:42:23,406 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:42:23,406 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:42:23,406 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:42:23,406 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:42:23,406 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:42:23,406 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:42:23,407 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:42:23,407 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:42:23,407 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:42:23,407 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:42:23,408 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:42:23,408 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:42:23,408 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:42:23,409 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:42:23,409 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:42:23,409 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:42:23,409 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:42:23,409 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x0000000801580430@7513312
2024-11-04 10:42:23,409 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:42:23,447 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 10:42:23,447 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:42:23,689 DEBUG [http-nio-8080-exec-1] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:42:23,689 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 10:42:23,694 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 10:42:23,694 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 10:42:23,694 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 10:42:23,694 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 10:42:23,732 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T15:42:23.732455Z, has been generated
2024-11-04 10:42:23,745 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:42:35,636 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6e68ccc9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1784fcab, org.springframework.security.web.context.SecurityContextHolderFilter@7da40bf4, org.springframework.security.web.header.HeaderWriterFilter@2f650dae, org.springframework.security.web.authentication.logout.LogoutFilter@7fb313e3, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@63e4bbf9, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@edf4973, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c651286, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d6e09f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@455cb6d9, org.springframework.security.web.session.SessionManagementFilter@5101b9, org.springframework.security.web.access.ExceptionTranslationFilter@3c6e407, org.springframework.security.web.access.intercept.AuthorizationFilter@2396dc4e]] (1/1)
2024-11-04 10:42:35,637 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:42:35,638 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:42:35,638 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:42:35,638 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:42:35,638 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:42:35,638 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:42:35,639 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:42:35,639 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:42:35,639 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:42:35,639 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:42:35,665 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T03:42:23Z, iat=2024-11-04T15:42:23Z, roles=[ADMIN, CANDIDATE, MARKETING_MEMBER]}
2024-11-04 10:42:35,665 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 10:42:35,693 TRACE [http-nio-8080-exec-3] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:42:35,693 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 10:42:35,696 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:42:35,696 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:42:35,696 TRACE [http-nio-8080-exec-3] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:42:35,697 TRACE [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 10:42:35,697 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:42:35,698 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@920ec0b2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]]
2024-11-04 10:42:35,698 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:42:35,698 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:42:35,698 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:42:35,698 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:42:35,698 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@920ec0b2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]]
2024-11-04 10:42:35,698 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:42:35,698 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:42:35,698 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:42:35,698 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:42:35,698 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 10:42:35,699 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@920ec0b2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 10:42:35,702 ERROR [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 10:42:35,702 TRACE [http-nio-8080-exec-3] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6e68ccc9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1784fcab, org.springframework.security.web.context.SecurityContextHolderFilter@7da40bf4, org.springframework.security.web.header.HeaderWriterFilter@2f650dae, org.springframework.security.web.authentication.logout.LogoutFilter@7fb313e3, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@63e4bbf9, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@edf4973, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c651286, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d6e09f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@455cb6d9, org.springframework.security.web.session.SessionManagementFilter@5101b9, org.springframework.security.web.access.ExceptionTranslationFilter@3c6e407, org.springframework.security.web.access.intercept.AuthorizationFilter@2396dc4e]] (1/1)
2024-11-04 10:42:35,706 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:42:35,706 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:42:35,707 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 10:42:35,707 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@750e5dbb
2024-11-04 10:42:35,707 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@920ec0b2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]]
2024-11-04 10:42:35,707 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Secured GET /error
2024-11-04 10:44:47,017 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:44:47,024 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:44:47,047 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:44:49,087 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92829 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:44:49,088 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:44:49,382 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:44:49,405 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 20 ms. Found 1 JPA repository interface.
2024-11-04 10:44:49,642 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:44:49,647 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:44:49,648 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:44:49,670 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:44:49,670 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 565 ms
2024-11-04 10:44:49,752 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:44:49,775 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:44:49,788 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:44:49,872 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:44:49,883 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:44:50,068 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@986b619
2024-11-04 10:44:50,068 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:44:50,098 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:44:50,098 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:44:50,404 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:44:50,445 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:44:50,598 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@47ab3688}
2024-11-04 10:44:50,607 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:44:50,615 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:44:50,618 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:44:50,621 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:44:50,622 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:44:50,622 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:44:50,622 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:44:50,622 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:44:50,622 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:44:50,626 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:44:50,626 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:44:50,638 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:44:50,850 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55159007, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@edf4973, org.springframework.security.web.context.SecurityContextHolderFilter@5101b9, org.springframework.security.web.header.HeaderWriterFilter@4865434e, org.springframework.security.web.authentication.logout.LogoutFilter@78de0f6f, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2a49753, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@171b0d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec25b61, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@af04d6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e68ccc9, org.springframework.security.web.session.SessionManagementFilter@61c42e54, org.springframework.security.web.access.ExceptionTranslationFilter@1e86b2d1, org.springframework.security.web.access.intercept.AuthorizationFilter@62075e3d]
2024-11-04 10:44:51,016 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:44:51,021 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.161 seconds (process running for 2.42)
2024-11-04 10:44:55,104 INFO  [http-nio-8080-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:44:55,118 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@55159007, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@edf4973, org.springframework.security.web.context.SecurityContextHolderFilter@5101b9, org.springframework.security.web.header.HeaderWriterFilter@4865434e, org.springframework.security.web.authentication.logout.LogoutFilter@78de0f6f, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2a49753, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@171b0d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec25b61, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@af04d6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e68ccc9, org.springframework.security.web.session.SessionManagementFilter@61c42e54, org.springframework.security.web.access.ExceptionTranslationFilter@1e86b2d1, org.springframework.security.web.access.intercept.AuthorizationFilter@62075e3d]] (1/1)
2024-11-04 10:44:55,118 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:44:55,118 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:44:55,118 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:44:55,120 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:44:55,120 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:44:55,120 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:44:55,121 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:44:55,121 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:44:55,121 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:44:55,121 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:44:55,141 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T03:42:23Z, iat=2024-11-04T15:42:23Z, roles=[ADMIN, CANDIDATE, MARKETING_MEMBER]}
2024-11-04 10:44:55,141 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 10:44:55,206 TRACE [http-nio-8080-exec-2] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:44:55,207 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 10:44:55,227 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:44:55,228 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:44:55,228 TRACE [http-nio-8080-exec-2] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:44:55,229 TRACE [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 10:44:55,229 DEBUG [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:44:55,229 DEBUG [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@920ec0b2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]]
2024-11-04 10:44:55,229 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:44:55,229 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:44:55,230 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:44:55,230 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:44:55,230 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@920ec0b2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]]
2024-11-04 10:44:55,230 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:44:55,230 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:44:55,230 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:44:55,230 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:44:55,231 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 10:44:55,231 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@920ec0b2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 10:44:55,233 ERROR [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 10:44:55,233 TRACE [http-nio-8080-exec-2] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@55159007, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@edf4973, org.springframework.security.web.context.SecurityContextHolderFilter@5101b9, org.springframework.security.web.header.HeaderWriterFilter@4865434e, org.springframework.security.web.authentication.logout.LogoutFilter@78de0f6f, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2a49753, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@171b0d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ec25b61, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@af04d6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e68ccc9, org.springframework.security.web.session.SessionManagementFilter@61c42e54, org.springframework.security.web.access.ExceptionTranslationFilter@1e86b2d1, org.springframework.security.web.access.intercept.AuthorizationFilter@62075e3d]] (1/1)
2024-11-04 10:44:55,237 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2e159f89
2024-11-04 10:44:55,237 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@920ec0b2, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN, CANDIDATE, MARKETING_MEMBER]]
2024-11-04 10:44:55,237 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Secured GET /error
2024-11-04 10:45:19,976 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:45:19,981 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:45:19,990 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:45:21,159 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92837 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:45:21,160 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:45:21,521 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:45:21,543 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 15 ms. Found 1 JPA repository interface.
2024-11-04 10:45:21,766 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:45:21,772 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:45:21,772 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:45:21,800 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:45:21,800 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 604 ms
2024-11-04 10:45:21,885 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:45:21,909 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:45:21,922 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:45:22,021 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:45:22,031 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:45:22,146 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ffa91dc
2024-11-04 10:45:22,147 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:45:22,169 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:45:22,169 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:45:22,472 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:45:22,500 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:45:22,652 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@7dc963be}
2024-11-04 10:45:22,660 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:45:22,666 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:45:22,669 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:45:22,671 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:45:22,671 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:45:22,671 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:45:22,672 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:45:22,672 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:45:22,672 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:45:22,675 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:45:22,676 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:45:22,687 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:45:22,899 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@536f389, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b33f7a0, org.springframework.security.web.context.SecurityContextHolderFilter@3816efab, org.springframework.security.web.header.HeaderWriterFilter@32f2de5c, org.springframework.security.web.authentication.logout.LogoutFilter@5825932c, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@71b6edfb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3b9c386d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@257da215, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@506654fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f541f60, org.springframework.security.web.session.SessionManagementFilter@48cbb4c5, org.springframework.security.web.access.ExceptionTranslationFilter@e0c03bd, org.springframework.security.web.access.intercept.AuthorizationFilter@19f9404d]
2024-11-04 10:45:23,070 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:45:23,074 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.1 seconds (process running for 2.387)
2024-11-04 10:45:31,299 INFO  [http-nio-8080-exec-2] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:45:31,313 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@536f389, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b33f7a0, org.springframework.security.web.context.SecurityContextHolderFilter@3816efab, org.springframework.security.web.header.HeaderWriterFilter@32f2de5c, org.springframework.security.web.authentication.logout.LogoutFilter@5825932c, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@71b6edfb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3b9c386d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@257da215, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@506654fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f541f60, org.springframework.security.web.session.SessionManagementFilter@48cbb4c5, org.springframework.security.web.access.ExceptionTranslationFilter@e0c03bd, org.springframework.security.web.access.intercept.AuthorizationFilter@19f9404d]] (1/1)
2024-11-04 10:45:31,313 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:45:31,313 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:45:31,314 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:45:31,315 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:45:31,315 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:45:31,316 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:45:31,316 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:45:31,316 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:45:31,316 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:45:31,316 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:45:31,316 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:45:31,316 TRACE [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:45:31,316 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:45:31,316 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:45:31,317 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:45:31,317 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:45:31,317 TRACE [http-nio-8080-exec-2] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:45:31,318 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:45:31,318 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:45:31,318 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:45:31,318 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:45:31,319 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x0000000801581000@558a4782
2024-11-04 10:45:31,319 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:45:31,367 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 10:45:31,367 TRACE [http-nio-8080-exec-2] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:45:31,606 DEBUG [http-nio-8080-exec-2] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:45:31,606 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 10:45:31,608 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 10:45:31,609 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 10:45:31,609 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 10:45:31,609 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 10:45:31,638 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T15:45:31.638058Z, has been generated
2024-11-04 10:45:31,650 TRACE [http-nio-8080-exec-2] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:45:54,889 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@536f389, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b33f7a0, org.springframework.security.web.context.SecurityContextHolderFilter@3816efab, org.springframework.security.web.header.HeaderWriterFilter@32f2de5c, org.springframework.security.web.authentication.logout.LogoutFilter@5825932c, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@71b6edfb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3b9c386d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@257da215, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@506654fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f541f60, org.springframework.security.web.session.SessionManagementFilter@48cbb4c5, org.springframework.security.web.access.ExceptionTranslationFilter@e0c03bd, org.springframework.security.web.access.intercept.AuthorizationFilter@19f9404d]] (1/1)
2024-11-04 10:45:54,890 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:45:54,890 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:45:54,890 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:45:54,890 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:45:54,890 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:45:54,891 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:45:54,891 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:45:54,891 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:45:54,891 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:45:54,891 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:45:54,909 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T03:45:31Z, iat=2024-11-04T15:45:31Z, roles=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]}
2024-11-04 10:45:54,909 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 10:45:54,957 TRACE [http-nio-8080-exec-3] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:45:54,957 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 10:45:54,960 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:45:54,960 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:45:54,961 TRACE [http-nio-8080-exec-3] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:45:54,961 TRACE [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 10:45:54,962 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:45:54,962 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d0e5de5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]]
2024-11-04 10:45:54,962 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:45:54,962 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:45:54,962 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:45:54,962 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:45:54,962 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d0e5de5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]]
2024-11-04 10:45:54,962 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:45:54,962 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:45:54,963 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:45:54,963 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:45:54,963 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 10:45:54,963 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Secured GET /api/admin/Welcome
2024-11-04 10:45:54,965 DEBUG [http-nio-8080-exec-3] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 10:45:54,972 DEBUG [http-nio-8080-exec-3] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 10:45:54,973 TRACE [http-nio-8080-exec-3] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not re-authenticate JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d0e5de5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]] before authorizing
2024-11-04 10:45:54,973 TRACE [http-nio-8080-exec-3] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:45:54,973 DEBUG [http-nio-8080-exec-3] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:45:54,973 TRACE [http-nio-8080-exec-3] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not switch RunAs authentication since RunAsManager returned null
2024-11-04 10:45:54,974 TRACE [http-nio-8080-exec-3] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:50:20,437 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@536f389, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b33f7a0, org.springframework.security.web.context.SecurityContextHolderFilter@3816efab, org.springframework.security.web.header.HeaderWriterFilter@32f2de5c, org.springframework.security.web.authentication.logout.LogoutFilter@5825932c, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@71b6edfb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3b9c386d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@257da215, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@506654fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f541f60, org.springframework.security.web.session.SessionManagementFilter@48cbb4c5, org.springframework.security.web.access.ExceptionTranslationFilter@e0c03bd, org.springframework.security.web.access.intercept.AuthorizationFilter@19f9404d]] (1/1)
2024-11-04 10:50:20,438 DEBUG [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:50:20,439 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:50:20,439 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:50:20,439 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:50:20,439 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:50:20,439 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:50:20,439 TRACE [http-nio-8080-exec-5] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:50:20,440 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:50:20,440 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:50:20,440 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:50:20,441 TRACE [http-nio-8080-exec-5] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:50:20,441 TRACE [http-nio-8080-exec-5] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x0000000801581000@558a4782
2024-11-04 10:50:20,441 DEBUG [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:50:20,452 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: Gautam@email.com
2024-11-04 10:50:20,452 TRACE [http-nio-8080-exec-5] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:50:20,555 DEBUG [http-nio-8080-exec-5] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:50:20,555 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: Gautam@email.com
2024-11-04 10:50:20,558 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Gautam
2024-11-04 10:50:20,559 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=8, userName=Gautam, emailId=Gautam@email.com, password=$2a$10$g1AKErjSJZYV2O9JFDFd5um3zd2oqeaIwsBHyRnpF8Mrqdgic4xWy, mobileNumber=123451234123455, roles=CANDIDATE)
2024-11-04 10:50:20,559 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : CANDIDATE
2024-11-04 10:50:20,559 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Gautam@email.com is: READ
2024-11-04 10:50:20,571 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Gautam at time 2024-11-04T15:50:20.571047Z, has been generated
2024-11-04 10:50:20,574 TRACE [http-nio-8080-exec-5] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:50:52,122 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@536f389, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b33f7a0, org.springframework.security.web.context.SecurityContextHolderFilter@3816efab, org.springframework.security.web.header.HeaderWriterFilter@32f2de5c, org.springframework.security.web.authentication.logout.LogoutFilter@5825932c, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@71b6edfb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3b9c386d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@257da215, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@506654fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f541f60, org.springframework.security.web.session.SessionManagementFilter@48cbb4c5, org.springframework.security.web.access.ExceptionTranslationFilter@e0c03bd, org.springframework.security.web.access.intercept.AuthorizationFilter@19f9404d]] (1/1)
2024-11-04 10:50:52,124 DEBUG [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:50:52,124 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:50:52,124 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:50:52,125 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:50:52,125 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:50:52,125 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:50:52,125 TRACE [http-nio-8080-exec-7] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:50:52,125 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:50:52,125 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:50:52,125 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:50:52,131 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Gautam@email.com, exp=2024-11-07T03:50:20Z, iat=2024-11-04T15:50:20Z, roles=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]}
2024-11-04 10:50:52,132 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Gautam@email.com
2024-11-04 10:50:52,144 TRACE [http-nio-8080-exec-7] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:50:52,144 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Gautam@email.com
2024-11-04 10:50:52,150 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:50:52,150 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:50:52,151 TRACE [http-nio-8080-exec-7] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 10:50:52,152 DEBUG [http-nio-8080-exec-7] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:50:52,152 DEBUG [http-nio-8080-exec-7] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5db04788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]]
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5db04788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]]
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:50:52,152 TRACE [http-nio-8080-exec-7] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 10:50:52,152 DEBUG [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Secured GET /api/admin/Welcome
2024-11-04 10:50:52,155 DEBUG [http-nio-8080-exec-7] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 10:50:52,156 DEBUG [http-nio-8080-exec-7] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 10:50:52,157 TRACE [http-nio-8080-exec-7] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not re-authenticate JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5db04788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]] before authorizing
2024-11-04 10:50:52,157 TRACE [http-nio-8080-exec-7] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:50:52,157 DEBUG [http-nio-8080-exec-7] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:50:52,157 TRACE [http-nio-8080-exec-7] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not switch RunAs authentication since RunAsManager returned null
2024-11-04 10:50:52,160 TRACE [http-nio-8080-exec-7] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:51:22,183 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@536f389, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b33f7a0, org.springframework.security.web.context.SecurityContextHolderFilter@3816efab, org.springframework.security.web.header.HeaderWriterFilter@32f2de5c, org.springframework.security.web.authentication.logout.LogoutFilter@5825932c, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@71b6edfb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3b9c386d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@257da215, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@506654fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f541f60, org.springframework.security.web.session.SessionManagementFilter@48cbb4c5, org.springframework.security.web.access.ExceptionTranslationFilter@e0c03bd, org.springframework.security.web.access.intercept.AuthorizationFilter@19f9404d]] (1/1)
2024-11-04 10:51:22,184 DEBUG [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:51:22,184 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:51:22,185 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:51:22,185 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:51:22,185 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:51:22,186 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:51:22,186 TRACE [http-nio-8080-exec-8] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:51:22,186 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:51:22,186 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:51:22,187 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:51:22,190 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Gautam@email.com, exp=2024-11-07T03:50:20Z, iat=2024-11-04T15:50:20Z, roles=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]}
2024-11-04 10:51:22,191 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Gautam@email.com
2024-11-04 10:51:22,203 TRACE [http-nio-8080-exec-8] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:51:22,203 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Gautam@email.com
2024-11-04 10:51:22,206 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:51:22,206 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:51:22,206 TRACE [http-nio-8080-exec-8] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:51:22,207 TRACE [http-nio-8080-exec-8] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 10:51:22,207 DEBUG [http-nio-8080-exec-8] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:51:22,207 DEBUG [http-nio-8080-exec-8] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5db04788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]]
2024-11-04 10:51:22,207 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:51:22,208 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:51:22,208 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:51:22,208 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:51:22,209 TRACE [http-nio-8080-exec-8] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5db04788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]]
2024-11-04 10:51:22,209 TRACE [http-nio-8080-exec-8] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:51:22,209 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:51:22,209 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:51:22,210 TRACE [http-nio-8080-exec-8] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:51:22,214 TRACE [http-nio-8080-exec-8] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 10:51:22,214 DEBUG [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Secured GET /api/admin/Welcome
2024-11-04 10:51:22,216 DEBUG [http-nio-8080-exec-8] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 10:51:22,217 DEBUG [http-nio-8080-exec-8] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 10:51:22,218 TRACE [http-nio-8080-exec-8] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not re-authenticate JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5db04788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]] before authorizing
2024-11-04 10:51:22,219 TRACE [http-nio-8080-exec-8] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:51:22,219 DEBUG [http-nio-8080-exec-8] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:51:22,219 TRACE [http-nio-8080-exec-8] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not switch RunAs authentication since RunAsManager returned null
2024-11-04 10:51:22,221 TRACE [http-nio-8080-exec-8] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:53:09,334 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@536f389, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b33f7a0, org.springframework.security.web.context.SecurityContextHolderFilter@3816efab, org.springframework.security.web.header.HeaderWriterFilter@32f2de5c, org.springframework.security.web.authentication.logout.LogoutFilter@5825932c, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@71b6edfb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3b9c386d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@257da215, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@506654fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f541f60, org.springframework.security.web.session.SessionManagementFilter@48cbb4c5, org.springframework.security.web.access.ExceptionTranslationFilter@e0c03bd, org.springframework.security.web.access.intercept.AuthorizationFilter@19f9404d]] (1/1)
2024-11-04 10:53:09,340 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:53:09,341 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:53:09,341 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:53:09,341 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:53:09,342 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:53:09,342 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:53:09,342 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:53:09,344 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:53:09,344 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:53:09,344 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:53:09,345 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:53:09,345 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:53:09,345 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:53:09,345 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:53:09,345 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:53:09,346 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:53:09,346 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:53:09,349 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:53:09,349 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:53:09,349 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:53:09,349 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:53:09,349 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x0000000801581000@558a4782
2024-11-04 10:53:09,349 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:53:09,361 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: Gautam@email.com
2024-11-04 10:53:09,361 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:53:09,492 DEBUG [http-nio-8080-exec-1] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:53:09,492 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: Gautam@email.com
2024-11-04 10:53:09,494 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Gautam
2024-11-04 10:53:09,494 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=8, userName=Gautam, emailId=Gautam@email.com, password=$2a$10$g1AKErjSJZYV2O9JFDFd5um3zd2oqeaIwsBHyRnpF8Mrqdgic4xWy, mobileNumber=123451234123455, roles=CANDIDATE)
2024-11-04 10:53:09,494 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : CANDIDATE
2024-11-04 10:53:09,494 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Gautam@email.com is: READ
2024-11-04 10:53:09,532 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Gautam at time 2024-11-04T15:53:09.532282Z, has been generated
2024-11-04 10:53:09,533 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:53:39,779 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@536f389, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b33f7a0, org.springframework.security.web.context.SecurityContextHolderFilter@3816efab, org.springframework.security.web.header.HeaderWriterFilter@32f2de5c, org.springframework.security.web.authentication.logout.LogoutFilter@5825932c, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@71b6edfb, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3b9c386d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@257da215, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@506654fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f541f60, org.springframework.security.web.session.SessionManagementFilter@48cbb4c5, org.springframework.security.web.access.ExceptionTranslationFilter@e0c03bd, org.springframework.security.web.access.intercept.AuthorizationFilter@19f9404d]] (1/1)
2024-11-04 10:53:39,781 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 10:53:39,781 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:53:39,781 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:53:39,781 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:53:39,781 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:53:39,781 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:53:39,782 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:53:39,782 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:53:39,782 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:53:39,782 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 10:53:39,786 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Gautam@email.com, exp=2024-11-07T03:50:20Z, iat=2024-11-04T15:50:20Z, roles=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]}
2024-11-04 10:53:39,786 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Gautam@email.com
2024-11-04 10:53:39,813 TRACE [http-nio-8080-exec-2] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:53:39,813 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Gautam@email.com
2024-11-04 10:53:39,816 INFO  [http-nio-8080-exec-2] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 10:53:39,816 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:53:39,816 TRACE [http-nio-8080-exec-2] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 10:53:39,817 DEBUG [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 10:53:39,817 DEBUG [http-nio-8080-exec-2] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5db04788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]]
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5db04788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]]
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 10:53:39,817 TRACE [http-nio-8080-exec-2] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 10:53:39,817 DEBUG [http-nio-8080-exec-2] org.springframework.security.web.FilterChainProxy :Secured GET /api/admin/Welcome
2024-11-04 10:53:39,818 DEBUG [http-nio-8080-exec-2] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 10:53:39,819 DEBUG [http-nio-8080-exec-2] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 10:53:39,819 TRACE [http-nio-8080-exec-2] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not re-authenticate JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@5db04788, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, ROLE_CANDIDATE, ROLE_MARKETING_MEMBER]] before authorizing
2024-11-04 10:53:39,819 TRACE [http-nio-8080-exec-2] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:53:39,819 DEBUG [http-nio-8080-exec-2] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:53:39,819 TRACE [http-nio-8080-exec-2] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not switch RunAs authentication since RunAsManager returned null
2024-11-04 10:53:39,820 TRACE [http-nio-8080-exec-2] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:57:37,244 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:57:37,258 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:57:37,285 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:57:40,291 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92952 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:57:40,292 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:57:40,598 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:57:40,619 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interface.
2024-11-04 10:57:40,862 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:57:40,867 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:57:40,867 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:57:40,887 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:57:40,887 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 577 ms
2024-11-04 10:57:40,977 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:57:41,001 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:57:41,013 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:57:41,100 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:57:41,112 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:57:41,271 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@186481d4
2024-11-04 10:57:41,271 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:57:41,297 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:57:41,298 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:57:41,604 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:57:41,641 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:57:41,795 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@2305aad0}
2024-11-04 10:57:41,805 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:57:41,812 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:57:41,815 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:57:41,819 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:57:41,819 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:57:41,819 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:57:41,819 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:57:41,819 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:57:41,819 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:57:41,824 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:57:41,824 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:57:41,836 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:57:42,044 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d2bfc9f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd6bfb0, org.springframework.security.web.context.SecurityContextHolderFilter@6c9e7af2, org.springframework.security.web.header.HeaderWriterFilter@373c8f35, org.springframework.security.web.authentication.logout.LogoutFilter@63e81ac6, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@3b9c386d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@455cb6d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@af04d6d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a67bcaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb28ed, org.springframework.security.web.session.SessionManagementFilter@c651286, org.springframework.security.web.access.ExceptionTranslationFilter@3fe59f84, org.springframework.security.web.access.intercept.AuthorizationFilter@d5eca06]
2024-11-04 10:57:42,209 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:57:42,213 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.134 seconds (process running for 2.465)
2024-11-04 10:57:47,248 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:57:47,259 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5d2bfc9f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd6bfb0, org.springframework.security.web.context.SecurityContextHolderFilter@6c9e7af2, org.springframework.security.web.header.HeaderWriterFilter@373c8f35, org.springframework.security.web.authentication.logout.LogoutFilter@63e81ac6, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@3b9c386d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@455cb6d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@af04d6d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a67bcaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb28ed, org.springframework.security.web.session.SessionManagementFilter@c651286, org.springframework.security.web.access.ExceptionTranslationFilter@3fe59f84, org.springframework.security.web.access.intercept.AuthorizationFilter@d5eca06]] (1/1)
2024-11-04 10:57:47,260 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:57:47,260 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:57:47,260 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:57:47,261 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:57:47,261 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:57:47,262 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:57:47,262 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:57:47,262 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:57:47,262 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:57:47,262 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:57:47,262 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:57:47,262 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:57:47,262 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:57:47,262 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:57:47,263 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:57:47,263 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:57:47,263 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:57:47,264 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:57:47,264 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:57:47,264 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:57:47,264 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:57:47,264 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x0000000801580fb8@2cbf4312
2024-11-04 10:57:47,264 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:57:47,309 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: Gautam@email.com
2024-11-04 10:57:47,310 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:57:47,548 DEBUG [http-nio-8080-exec-1] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:57:47,548 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: Gautam@email.com
2024-11-04 10:57:47,551 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Gautam
2024-11-04 10:57:47,551 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=8, userName=Gautam, emailId=Gautam@email.com, password=$2a$10$g1AKErjSJZYV2O9JFDFd5um3zd2oqeaIwsBHyRnpF8Mrqdgic4xWy, mobileNumber=123451234123455, roles=CANDIDATE)
2024-11-04 10:57:47,551 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : CANDIDATE
2024-11-04 10:57:47,551 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Gautam@email.com is: READ
2024-11-04 10:57:47,580 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Gautam at time 2024-11-04T15:57:47.580388Z, has been generated
2024-11-04 10:57:47,596 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 10:58:57,143 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:58:57,155 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 10:58:57,167 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 10:58:59,083 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 92970 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 10:58:59,084 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 10:58:59,353 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 10:58:59,378 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 20 ms. Found 1 JPA repository interface.
2024-11-04 10:58:59,608 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 10:58:59,613 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 10:58:59,613 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 10:58:59,632 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 10:58:59,632 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 531 ms
2024-11-04 10:58:59,735 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 10:58:59,760 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 10:58:59,772 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 10:58:59,858 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 10:58:59,869 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 10:58:59,984 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6de610c6
2024-11-04 10:58:59,985 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 10:59:00,006 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 10:59:00,006 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 10:59:00,300 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 10:59:00,328 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 10:59:00,484 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@58189132}
2024-11-04 10:59:00,493 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 10:59:00,499 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:59:00,501 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 10:59:00,504 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 10:59:00,504 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:59:00,504 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 10:59:00,504 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:59:00,504 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 10:59:00,504 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:59:00,508 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 10:59:00,508 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 10:59:00,520 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 10:59:00,725 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]
2024-11-04 10:59:00,888 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 10:59:00,892 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.032 seconds (process running for 2.275)
2024-11-04 10:59:04,523 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 10:59:04,535 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]] (1/1)
2024-11-04 10:59:04,536 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 10:59:04,536 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 10:59:04,536 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 10:59:04,537 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 10:59:04,537 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 10:59:04,538 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 10:59:04,538 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 10:59:04,538 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 10:59:04,538 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 10:59:04,538 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 10:59:04,538 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 10:59:04,538 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 10:59:04,538 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 10:59:04,538 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 10:59:04,539 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 10:59:04,539 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 10:59:04,539 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 10:59:04,539 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 10:59:04,540 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 10:59:04,540 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 10:59:04,540 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 10:59:04,540 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x0000000801581000@3e624db6
2024-11-04 10:59:04,540 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 10:59:04,576 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: Gautam@email.com
2024-11-04 10:59:04,576 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 10:59:04,818 DEBUG [http-nio-8080-exec-1] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 10:59:04,818 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: Gautam@email.com
2024-11-04 10:59:04,821 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Gautam
2024-11-04 10:59:04,821 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=8, userName=Gautam, emailId=Gautam@email.com, password=$2a$10$g1AKErjSJZYV2O9JFDFd5um3zd2oqeaIwsBHyRnpF8Mrqdgic4xWy, mobileNumber=123451234123455, roles=CANDIDATE)
2024-11-04 10:59:04,821 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : CANDIDATE
2024-11-04 10:59:04,821 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Gautam@email.com is: READ
2024-11-04 10:59:04,821 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : [ROLE_CANDIDATE]
2024-11-04 10:59:04,849 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Gautam at time 2024-11-04T15:59:04.849270Z, has been generated
2024-11-04 10:59:04,862 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 11:00:32,508 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]] (1/1)
2024-11-04 11:00:32,509 DEBUG [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 11:00:32,510 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 11:00:32,510 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 11:00:32,510 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 11:00:32,510 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 11:00:32,511 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 11:00:32,511 TRACE [http-nio-8080-exec-5] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 11:00:32,511 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 11:00:32,511 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 11:00:32,511 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 11:00:32,529 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Gautam@email.com, exp=2024-11-07T03:59:04Z, iat=2024-11-04T15:59:04Z, roles=[ROLE_CANDIDATE]}
2024-11-04 11:00:32,529 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Gautam@email.com
2024-11-04 11:00:32,573 TRACE [http-nio-8080-exec-5] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 11:00:32,574 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Gautam@email.com
2024-11-04 11:00:32,576 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 11:00:32,576 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 11:00:32,576 TRACE [http-nio-8080-exec-5] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 11:00:32,577 TRACE [http-nio-8080-exec-5] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 11:00:32,577 DEBUG [http-nio-8080-exec-5] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 11:00:32,578 DEBUG [http-nio-8080-exec-5] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2009dccf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]]
2024-11-04 11:00:32,578 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 11:00:32,578 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 11:00:32,578 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 11:00:32,578 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 11:00:32,578 TRACE [http-nio-8080-exec-5] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2009dccf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]]
2024-11-04 11:00:32,578 TRACE [http-nio-8080-exec-5] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 11:00:32,578 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 11:00:32,578 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 11:00:32,579 TRACE [http-nio-8080-exec-5] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 11:00:32,579 TRACE [http-nio-8080-exec-5] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 11:00:32,579 TRACE [http-nio-8080-exec-5] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2009dccf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 11:00:32,583 ERROR [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 11:00:32,583 TRACE [http-nio-8080-exec-5] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 11:00:32,587 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]] (1/1)
2024-11-04 11:00:32,587 DEBUG [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 11:00:32,587 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 11:00:32,587 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3e970d2d
2024-11-04 11:00:32,588 TRACE [http-nio-8080-exec-5] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@2009dccf, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]]
2024-11-04 11:00:32,588 DEBUG [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Secured GET /error
2024-11-04 11:01:01,530 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]] (1/1)
2024-11-04 11:01:01,532 DEBUG [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 11:01:01,532 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 11:01:01,533 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 11:01:01,533 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 11:01:01,533 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 11:01:01,533 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 11:01:01,533 TRACE [http-nio-8080-exec-6] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 11:01:01,534 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 11:01:01,534 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 11:01:01,534 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 11:01:01,534 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 11:01:01,534 TRACE [http-nio-8080-exec-6] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 11:01:01,534 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 11:01:01,534 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 11:01:01,534 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 11:01:01,534 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 11:01:01,534 TRACE [http-nio-8080-exec-6] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 11:01:01,535 TRACE [http-nio-8080-exec-6] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 11:01:01,535 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 11:01:01,535 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 11:01:01,535 TRACE [http-nio-8080-exec-6] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 11:01:01,535 TRACE [http-nio-8080-exec-6] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x0000000801581000@3e624db6
2024-11-04 11:01:01,535 DEBUG [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 11:01:01,542 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: Gautam@email.com
2024-11-04 11:01:01,542 TRACE [http-nio-8080-exec-6] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 11:01:01,645 DEBUG [http-nio-8080-exec-6] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 11:01:01,646 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: Gautam@email.com
2024-11-04 11:01:01,648 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Gautam
2024-11-04 11:01:01,648 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=8, userName=Gautam, emailId=Gautam@email.com, password=$2a$10$g1AKErjSJZYV2O9JFDFd5um3zd2oqeaIwsBHyRnpF8Mrqdgic4xWy, mobileNumber=123451234123455, roles=CANDIDATE)
2024-11-04 11:01:01,648 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : CANDIDATE
2024-11-04 11:01:01,648 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Gautam@email.com is: READ
2024-11-04 11:01:01,648 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : [ROLE_CANDIDATE]
2024-11-04 11:01:01,657 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Gautam at time 2024-11-04T16:01:01.657247Z, has been generated
2024-11-04 11:01:01,658 TRACE [http-nio-8080-exec-6] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 11:01:04,559 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]] (1/1)
2024-11-04 11:01:04,559 DEBUG [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 11:01:04,560 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 11:01:04,560 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 11:01:04,560 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 11:01:04,560 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 11:01:04,560 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 11:01:04,560 TRACE [http-nio-8080-exec-7] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 11:01:04,560 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 11:01:04,561 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 11:01:04,561 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 11:01:04,561 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 11:01:04,561 TRACE [http-nio-8080-exec-7] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 11:01:04,561 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 11:01:04,561 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 11:01:04,561 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 11:01:04,562 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 11:01:04,562 TRACE [http-nio-8080-exec-7] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 11:01:04,562 TRACE [http-nio-8080-exec-7] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 11:01:04,562 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 11:01:04,562 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 11:01:04,563 TRACE [http-nio-8080-exec-7] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 11:01:04,563 TRACE [http-nio-8080-exec-7] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x0000000801581000@3e624db6
2024-11-04 11:01:04,563 DEBUG [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 11:01:04,567 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 11:01:04,568 TRACE [http-nio-8080-exec-7] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 11:01:04,678 DEBUG [http-nio-8080-exec-7] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 11:01:04,678 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 11:01:04,681 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 11:01:04,681 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 11:01:04,681 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 11:01:04,681 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 11:01:04,681 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : [ROLE_ADMIN]
2024-11-04 11:01:04,688 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T16:01:04.688850Z, has been generated
2024-11-04 11:01:04,689 TRACE [http-nio-8080-exec-7] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 11:01:19,371 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextHolderFilter@2740585b, org.springframework.security.web.header.HeaderWriterFilter@61e4a072, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2b33f7a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1bd6bfb0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d6e09f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77430c79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@6c9e7af2, org.springframework.security.web.access.ExceptionTranslationFilter@1d86b636, org.springframework.security.web.access.intercept.AuthorizationFilter@628cb8e0]] (1/1)
2024-11-04 11:01:19,373 DEBUG [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Securing GET /api/admin/Welcome
2024-11-04 11:01:19,373 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 11:01:19,373 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 11:01:19,373 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 11:01:19,374 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 11:01:19,374 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 11:01:19,374 TRACE [http-nio-8080-exec-8] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 11:01:19,374 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 11:01:19,374 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 11:01:19,374 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/Welcome
2024-11-04 11:01:19,381 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T04:01:04Z, iat=2024-11-04T16:01:04Z, roles=[ROLE_ADMIN]}
2024-11-04 11:01:19,381 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 11:01:19,394 TRACE [http-nio-8080-exec-8] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 11:01:19,394 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 11:01:19,397 INFO  [http-nio-8080-exec-8] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 11:01:19,397 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 11:01:19,397 TRACE [http-nio-8080-exec-8] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 11:01:19,399 TRACE [http-nio-8080-exec-8] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 11:01:19,399 DEBUG [http-nio-8080-exec-8] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 11:01:19,399 DEBUG [http-nio-8080-exec-8] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9b7571d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 11:01:19,399 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 11:01:19,399 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 11:01:19,399 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 11:01:19,399 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 11:01:19,399 TRACE [http-nio-8080-exec-8] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9b7571d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 11:01:19,399 TRACE [http-nio-8080-exec-8] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 11:01:19,399 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 11:01:19,399 TRACE [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 11:01:19,400 TRACE [http-nio-8080-exec-8] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/admin/Welcome
2024-11-04 11:01:19,400 TRACE [http-nio-8080-exec-8] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/admin/Welcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 11:01:19,400 DEBUG [http-nio-8080-exec-8] org.springframework.security.web.FilterChainProxy :Secured GET /api/admin/Welcome
2024-11-04 11:01:19,404 DEBUG [http-nio-8080-exec-8] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 11:01:19,418 DEBUG [http-nio-8080-exec-8] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 11:01:19,419 TRACE [http-nio-8080-exec-8] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not re-authenticate JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@9b7571d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]] before authorizing
2024-11-04 11:01:19,419 TRACE [http-nio-8080-exec-8] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 11:01:19,419 DEBUG [http-nio-8080-exec-8] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 11:01:19,419 TRACE [http-nio-8080-exec-8] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not switch RunAs authentication since RunAsManager returned null
2024-11-04 11:01:19,423 TRACE [http-nio-8080-exec-8] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 11:11:51,805 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m51s634ms).
2024-11-04 11:25:28,981 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=13m37s199ms).
2024-11-04 11:43:31,162 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m31s906ms).
2024-11-04 11:45:14,754 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m13s475ms).
2024-11-04 11:50:38,898 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m5s504ms).
2024-11-04 11:52:47,445 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m180ms).
2024-11-04 11:54:20,232 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m2s779ms).
2024-11-04 11:55:24,949 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m4s717ms).
2024-11-04 11:58:46,192 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m48s712ms).
2024-11-04 12:53:59,351 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:53:59,479 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 12:53:59,492 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 12:54:02,883 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 94120 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 12:54:02,884 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 12:54:03,256 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 12:54:03,283 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interface.
2024-11-04 12:54:03,529 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 12:54:03,534 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 12:54:03,535 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 12:54:03,554 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 12:54:03,554 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 652 ms
2024-11-04 12:54:03,644 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 12:54:03,673 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 12:54:03,706 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 12:54:03,798 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 12:54:03,809 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 12:54:03,956 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@16e907b6
2024-11-04 12:54:03,957 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 12:54:04,032 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 12:54:04,032 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 12:54:04,373 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 12:54:04,423 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:54:04,588 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@6046fba0}
2024-11-04 12:54:04,599 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 12:54:04,607 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:54:04,610 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 12:54:04,613 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 12:54:04,613 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:54:04,613 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 12:54:04,613 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:54:04,613 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 12:54:04,613 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:54:04,617 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 12:54:04,617 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:54:04,618 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething()
2024-11-04 12:54:04,618 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:54:04,631 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 12:54:04,862 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@714a4ba2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ddc817f, org.springframework.security.web.context.SecurityContextHolderFilter@3e5febe9, org.springframework.security.web.header.HeaderWriterFilter@48cbb4c5, org.springframework.security.web.authentication.logout.LogoutFilter@455cb6d9, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@764d54a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@401b7226, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e0b7f58, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fb313e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78c91d2a, org.springframework.security.web.session.SessionManagementFilter@2c989d82, org.springframework.security.web.access.ExceptionTranslationFilter@1d160161, org.springframework.security.web.access.intercept.AuthorizationFilter@2b33f7a0]
2024-11-04 12:54:05,035 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 12:54:05,040 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.352 seconds (process running for 2.663)
2024-11-04 12:54:15,366 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 12:54:15,389 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@714a4ba2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ddc817f, org.springframework.security.web.context.SecurityContextHolderFilter@3e5febe9, org.springframework.security.web.header.HeaderWriterFilter@48cbb4c5, org.springframework.security.web.authentication.logout.LogoutFilter@455cb6d9, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@764d54a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@401b7226, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e0b7f58, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fb313e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78c91d2a, org.springframework.security.web.session.SessionManagementFilter@2c989d82, org.springframework.security.web.access.ExceptionTranslationFilter@1d160161, org.springframework.security.web.access.intercept.AuthorizationFilter@2b33f7a0]] (1/1)
2024-11-04 12:54:15,389 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 12:54:15,389 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 12:54:15,390 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 12:54:15,390 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 12:54:15,391 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 12:54:15,391 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 12:54:15,392 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 12:54:15,392 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 12:54:15,392 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 12:54:15,392 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 12:54:15,392 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 12:54:15,392 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 12:54:15,392 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 12:54:15,392 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 12:54:15,393 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 12:54:15,393 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 12:54:15,394 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 12:54:15,395 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 12:54:15,395 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 12:54:15,395 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 12:54:15,395 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 12:54:15,395 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x0000000801580210@63709079
2024-11-04 12:54:15,396 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 12:54:15,436 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 12:54:15,436 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 12:54:15,731 DEBUG [http-nio-8080-exec-1] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 12:54:15,731 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 12:54:15,735 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 12:54:15,735 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 12:54:15,735 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 12:54:15,735 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 12:54:15,736 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : [ROLE_ADMIN]
2024-11-04 12:54:15,771 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T17:54:15.771788Z, has been generated
2024-11-04 12:54:15,793 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 12:54:51,149 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@714a4ba2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ddc817f, org.springframework.security.web.context.SecurityContextHolderFilter@3e5febe9, org.springframework.security.web.header.HeaderWriterFilter@48cbb4c5, org.springframework.security.web.authentication.logout.LogoutFilter@455cb6d9, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@764d54a0, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@401b7226, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e0b7f58, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fb313e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78c91d2a, org.springframework.security.web.session.SessionManagementFilter@2c989d82, org.springframework.security.web.access.ExceptionTranslationFilter@1d160161, org.springframework.security.web.access.intercept.AuthorizationFilter@2b33f7a0]] (1/1)
2024-11-04 12:54:51,153 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing POST /api/admin/postWelcome
2024-11-04 12:54:51,154 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 12:54:51,154 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 12:54:51,155 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 12:54:51,156 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 12:54:51,156 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 12:54:51,157 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 12:54:51,157 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 12:54:51,157 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 12:54:51,158 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/postWelcome
2024-11-04 12:54:51,307 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T05:54:15Z, iat=2024-11-04T17:54:15Z, roles=[ROLE_ADMIN]}
2024-11-04 12:54:51,308 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 12:54:51,537 TRACE [http-nio-8080-exec-3] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 12:54:51,537 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 12:54:51,539 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 12:54:51,539 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 12:54:51,545 TRACE [http-nio-8080-exec-3] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 12:54:51,547 TRACE [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 12:54:51,549 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 12:54:51,556 DEBUG [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:54:51,556 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 12:54:51,556 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 12:54:51,556 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 12:54:51,556 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 12:54:51,556 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:54:51,556 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 12:54:51,556 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 12:54:51,556 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 12:54:51,556 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /api/admin/postWelcome
2024-11-04 12:54:51,559 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /api/admin/postWelcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 12:54:51,559 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Secured POST /api/admin/postWelcome
2024-11-04 12:54:51,565 DEBUG [http-nio-8080-exec-3] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 12:54:51,625 DEBUG [http-nio-8080-exec-3] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 12:54:51,626 TRACE [http-nio-8080-exec-3] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not re-authenticate JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]] before authorizing
2024-11-04 12:54:51,626 TRACE [http-nio-8080-exec-3] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorizing ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:54:51,626 DEBUG [http-nio-8080-exec-3] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Authorized ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething(); target is of class [com.learning.jwt_oauth2.controller.adminController] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:54:51,626 TRACE [http-nio-8080-exec-3] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Did not switch RunAs authentication since RunAsManager returned null
2024-11-04 12:54:51,636 TRACE [http-nio-8080-exec-3] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 12:55:13,466 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:55:13,478 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 12:55:13,514 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 12:55:15,536 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 94143 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 12:55:15,537 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 12:55:15,923 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 12:55:15,948 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 21 ms. Found 1 JPA repository interface.
2024-11-04 12:55:16,187 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 12:55:16,198 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 12:55:16,198 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 12:55:16,221 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 12:55:16,221 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 667 ms
2024-11-04 12:55:16,304 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 12:55:16,328 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 12:55:16,346 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 12:55:16,469 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 12:55:16,480 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 12:55:16,597 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24eecabf
2024-11-04 12:55:16,598 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 12:55:16,624 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 12:55:16,625 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 12:55:16,970 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 12:55:17,001 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:55:17,189 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@744199bb}
2024-11-04 12:55:17,199 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 12:55:17,206 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:55:17,209 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 12:55:17,212 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 12:55:17,212 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:55:17,212 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 12:55:17,212 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:55:17,212 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 12:55:17,212 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:55:17,216 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 12:55:17,216 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:55:17,227 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 12:55:17,437 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1bd6bfb0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b9c386d, org.springframework.security.web.context.SecurityContextHolderFilter@48cbb4c5, org.springframework.security.web.header.HeaderWriterFilter@1d86b636, org.springframework.security.web.authentication.logout.LogoutFilter@45775a15, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@7fb28ed, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6d7a343f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2740585b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f4b7a2e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@536f389, org.springframework.security.web.session.SessionManagementFilter@40304938, org.springframework.security.web.access.ExceptionTranslationFilter@38eafdab, org.springframework.security.web.access.intercept.AuthorizationFilter@79169472]
2024-11-04 12:55:17,601 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 12:55:17,605 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.247 seconds (process running for 2.495)
2024-11-04 12:55:24,586 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 12:55:24,598 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@1bd6bfb0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b9c386d, org.springframework.security.web.context.SecurityContextHolderFilter@48cbb4c5, org.springframework.security.web.header.HeaderWriterFilter@1d86b636, org.springframework.security.web.authentication.logout.LogoutFilter@45775a15, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@7fb28ed, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6d7a343f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2740585b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f4b7a2e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@536f389, org.springframework.security.web.session.SessionManagementFilter@40304938, org.springframework.security.web.access.ExceptionTranslationFilter@38eafdab, org.springframework.security.web.access.intercept.AuthorizationFilter@79169472]] (1/1)
2024-11-04 12:55:24,598 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /api/admin/postWelcome
2024-11-04 12:55:24,599 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 12:55:24,599 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 12:55:24,600 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 12:55:24,600 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 12:55:24,601 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 12:55:24,601 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 12:55:24,601 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 12:55:24,601 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 12:55:24,601 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/postWelcome
2024-11-04 12:55:24,619 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T05:54:15Z, iat=2024-11-04T17:54:15Z, roles=[ROLE_ADMIN]}
2024-11-04 12:55:24,619 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 12:55:24,703 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 12:55:24,703 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 12:55:24,719 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 12:55:24,719 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 12:55:24,719 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 12:55:24,720 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 12:55:24,720 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 12:55:24,720 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:55:24,720 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 12:55:24,720 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 12:55:24,721 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 12:55:24,721 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 12:55:24,721 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:55:24,721 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 12:55:24,721 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 12:55:24,721 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 12:55:24,721 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /api/admin/postWelcome
2024-11-04 12:55:24,722 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /api/admin/postWelcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 12:55:24,722 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /api/admin/postWelcome
2024-11-04 12:55:24,736 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 12:55:59,654 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:55:59,660 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 12:55:59,672 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 12:56:01,487 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 94149 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 12:56:01,489 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 12:56:01,763 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 12:56:01,790 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 20 ms. Found 1 JPA repository interface.
2024-11-04 12:56:02,021 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 12:56:02,026 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 12:56:02,026 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 12:56:02,044 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 12:56:02,044 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 536 ms
2024-11-04 12:56:02,120 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 12:56:02,145 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 12:56:02,156 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 12:56:02,235 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 12:56:02,265 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 12:56:02,402 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e49437
2024-11-04 12:56:02,403 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 12:56:02,426 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 12:56:02,426 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 12:56:02,743 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 12:56:02,771 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:56:02,930 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@47fbf95e}
2024-11-04 12:56:02,942 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 12:56:02,949 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:56:02,953 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 12:56:02,961 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 12:56:02,962 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:56:02,962 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 12:56:02,962 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:56:02,962 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 12:56:02,962 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:56:02,966 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 12:56:02,967 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:56:02,967 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething()
2024-11-04 12:56:02,967 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:56:02,979 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 12:56:03,187 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d2bfc9f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd6bfb0, org.springframework.security.web.context.SecurityContextHolderFilter@6c9e7af2, org.springframework.security.web.header.HeaderWriterFilter@373c8f35, org.springframework.security.web.authentication.logout.LogoutFilter@63e81ac6, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@3b9c386d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@455cb6d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@af04d6d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a67bcaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb28ed, org.springframework.security.web.session.SessionManagementFilter@c651286, org.springframework.security.web.access.ExceptionTranslationFilter@3fe59f84, org.springframework.security.web.access.intercept.AuthorizationFilter@d5eca06]
2024-11-04 12:56:03,356 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 12:56:03,361 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.079 seconds (process running for 2.286)
2024-11-04 12:56:07,509 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 12:56:07,522 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5d2bfc9f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd6bfb0, org.springframework.security.web.context.SecurityContextHolderFilter@6c9e7af2, org.springframework.security.web.header.HeaderWriterFilter@373c8f35, org.springframework.security.web.authentication.logout.LogoutFilter@63e81ac6, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@3b9c386d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@455cb6d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@af04d6d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a67bcaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb28ed, org.springframework.security.web.session.SessionManagementFilter@c651286, org.springframework.security.web.access.ExceptionTranslationFilter@3fe59f84, org.springframework.security.web.access.intercept.AuthorizationFilter@d5eca06]] (1/1)
2024-11-04 12:56:07,523 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /api/admin/postWelcome
2024-11-04 12:56:07,523 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 12:56:07,523 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 12:56:07,524 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 12:56:07,525 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 12:56:07,525 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 12:56:07,525 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 12:56:07,525 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 12:56:07,525 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 12:56:07,525 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/postWelcome
2024-11-04 12:56:07,545 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T05:54:15Z, iat=2024-11-04T17:54:15Z, roles=[ROLE_ADMIN]}
2024-11-04 12:56:07,545 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 12:56:07,619 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 12:56:07,619 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 12:56:07,636 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 12:56:07,636 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 12:56:07,636 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 12:56:07,637 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 12:56:07,637 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 12:56:07,637 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:56:07,637 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 12:56:07,637 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 12:56:07,638 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 12:56:07,638 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 12:56:07,638 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:56:07,638 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 12:56:07,638 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 12:56:07,638 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 12:56:07,638 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /api/admin/postWelcome
2024-11-04 12:56:07,639 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /api/admin/postWelcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 12:56:07,639 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /api/admin/postWelcome
2024-11-04 12:56:07,646 DEBUG [http-nio-8080-exec-1] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 12:56:07,652 DEBUG [http-nio-8080-exec-1] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething(); target is of class [com.learning.jwt_oauth2.controller.adminController] with authorization manager org.springframework.security.config.annotation.method.configuration.DeferringObservationAuthorizationManager@2bbd7ccf and decision ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAuthority('SCOPE_READ')]
2024-11-04 12:56:07,653 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:256)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.learning.jwt_oauth2.controller.adminController$$SpringCGLIB$$0.addSomething(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 12:56:07,655 ERROR [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 12:56:07,655 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5d2bfc9f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bd6bfb0, org.springframework.security.web.context.SecurityContextHolderFilter@6c9e7af2, org.springframework.security.web.header.HeaderWriterFilter@373c8f35, org.springframework.security.web.authentication.logout.LogoutFilter@63e81ac6, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@3b9c386d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@455cb6d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@af04d6d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a67bcaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb28ed, org.springframework.security.web.session.SessionManagementFilter@c651286, org.springframework.security.web.access.ExceptionTranslationFilter@3fe59f84, org.springframework.security.web.access.intercept.AuthorizationFilter@d5eca06]] (1/1)
2024-11-04 12:56:07,658 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /error
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /error
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@403ecccb
2024-11-04 12:56:07,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:56:07,658 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /error
2024-11-04 12:57:01,249 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:57:01,255 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 12:57:01,264 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 12:57:03,156 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 94173 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 12:57:03,158 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 12:57:03,423 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 12:57:03,450 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 23 ms. Found 1 JPA repository interface.
2024-11-04 12:57:03,676 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 12:57:03,681 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 12:57:03,681 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 12:57:03,699 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 12:57:03,699 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 524 ms
2024-11-04 12:57:03,776 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 12:57:03,796 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 12:57:03,807 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 12:57:03,885 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 12:57:03,894 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 12:57:04,017 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3fd33f48
2024-11-04 12:57:04,017 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 12:57:04,040 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 12:57:04,041 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 12:57:04,330 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 12:57:04,358 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:57:04,517 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@2ba4b32b}
2024-11-04 12:57:04,526 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 12:57:04,532 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:57:04,535 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 12:57:04,538 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 12:57:04,539 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:57:04,539 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 12:57:04,539 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:57:04,539 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 12:57:04,539 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:57:04,543 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 12:57:04,543 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:57:04,544 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething()
2024-11-04 12:57:04,544 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:57:04,555 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 12:57:04,791 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7bb888b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5825932c, org.springframework.security.web.context.SecurityContextHolderFilter@373c8f35, org.springframework.security.web.header.HeaderWriterFilter@6cfe32cd, org.springframework.security.web.authentication.logout.LogoutFilter@21f421b8, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@277dddcf, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@45775a15, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e0c03bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@533690d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@321c01c2, org.springframework.security.web.session.SessionManagementFilter@79aa675b, org.springframework.security.web.access.ExceptionTranslationFilter@5e97da56, org.springframework.security.web.access.intercept.AuthorizationFilter@5e0b7f58]
2024-11-04 12:57:04,985 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 12:57:04,990 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.068 seconds (process running for 2.27)
2024-11-04 12:57:08,642 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 12:57:08,655 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7bb888b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5825932c, org.springframework.security.web.context.SecurityContextHolderFilter@373c8f35, org.springframework.security.web.header.HeaderWriterFilter@6cfe32cd, org.springframework.security.web.authentication.logout.LogoutFilter@21f421b8, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@277dddcf, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@45775a15, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e0c03bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@533690d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@321c01c2, org.springframework.security.web.session.SessionManagementFilter@79aa675b, org.springframework.security.web.access.ExceptionTranslationFilter@5e97da56, org.springframework.security.web.access.intercept.AuthorizationFilter@5e0b7f58]] (1/1)
2024-11-04 12:57:08,656 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /api/admin/postWelcome
2024-11-04 12:57:08,656 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 12:57:08,656 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 12:57:08,657 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 12:57:08,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 12:57:08,658 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 12:57:08,659 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 12:57:08,659 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 12:57:08,659 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 12:57:08,659 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/postWelcome
2024-11-04 12:57:08,685 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T05:54:15Z, iat=2024-11-04T17:54:15Z, roles=[ROLE_ADMIN]}
2024-11-04 12:57:08,685 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 12:57:08,754 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 12:57:08,754 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 12:57:08,769 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 12:57:08,769 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 12:57:08,770 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 12:57:08,770 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 12:57:08,771 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 12:57:08,771 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:57:08,771 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 12:57:08,771 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 12:57:08,779 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 12:57:08,779 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 12:57:08,780 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:57:08,780 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 12:57:08,780 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 12:57:08,780 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 12:57:08,780 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /api/admin/postWelcome
2024-11-04 12:57:08,780 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /api/admin/postWelcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 12:57:08,781 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /api/admin/postWelcome
2024-11-04 12:57:08,788 DEBUG [http-nio-8080-exec-1] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething(); target is of class [com.learning.jwt_oauth2.controller.adminController]
2024-11-04 12:57:08,796 DEBUG [http-nio-8080-exec-1] org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor :Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.addSomething(); target is of class [com.learning.jwt_oauth2.controller.adminController] with authorization manager org.springframework.security.config.annotation.method.configuration.DeferringObservationAuthorizationManager@1f5ae8a0 and decision ExpressionAuthorizationDecision [granted=false, expressionAttribute=hasAuthority('SCOPE_READ')]
2024-11-04 12:57:08,797 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:256)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.learning.jwt_oauth2.controller.adminController$$SpringCGLIB$$0.addSomething(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 12:57:08,800 ERROR [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 12:57:08,800 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 12:57:08,802 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7bb888b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5825932c, org.springframework.security.web.context.SecurityContextHolderFilter@373c8f35, org.springframework.security.web.header.HeaderWriterFilter@6cfe32cd, org.springframework.security.web.authentication.logout.LogoutFilter@21f421b8, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@277dddcf, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@45775a15, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e0c03bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@533690d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@321c01c2, org.springframework.security.web.session.SessionManagementFilter@79aa675b, org.springframework.security.web.access.ExceptionTranslationFilter@5e97da56, org.springframework.security.web.access.intercept.AuthorizationFilter@5e0b7f58]] (1/1)
2024-11-04 12:57:08,802 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /error
2024-11-04 12:57:08,802 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 12:57:08,802 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 12:57:08,802 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /error
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@481ddb3d
2024-11-04 12:57:08,803 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:57:08,803 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /error
2024-11-04 12:57:59,781 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:57:59,787 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 12:57:59,809 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 12:58:01,730 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 94198 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 12:58:01,732 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 12:58:02,026 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 12:58:02,050 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 20 ms. Found 1 JPA repository interface.
2024-11-04 12:58:02,291 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 12:58:02,300 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 12:58:02,300 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 12:58:02,321 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 12:58:02,321 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 570 ms
2024-11-04 12:58:02,404 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 12:58:02,432 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 12:58:02,445 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 12:58:02,534 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 12:58:02,546 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 12:58:02,699 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@279c4e3b
2024-11-04 12:58:02,699 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 12:58:02,722 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 12:58:02,722 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 12:58:03,033 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 12:58:03,061 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:58:03,231 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@6046fba0}
2024-11-04 12:58:03,242 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 12:58:03,249 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:58:03,253 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 12:58:03,256 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 12:58:03,256 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:58:03,256 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 12:58:03,256 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:58:03,257 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 12:58:03,257 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:58:03,261 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 12:58:03,261 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:58:03,276 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 12:58:03,480 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@648bfebe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@383a5260, org.springframework.security.web.context.SecurityContextHolderFilter@54c697c, org.springframework.security.web.header.HeaderWriterFilter@506654fa, org.springframework.security.web.authentication.logout.LogoutFilter@60493524, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@4986b0ea, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@31c800a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63e81ac6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79169472, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ce5a2ea, org.springframework.security.web.session.SessionManagementFilter@7fb313e3, org.springframework.security.web.access.ExceptionTranslationFilter@334ac669, org.springframework.security.web.access.intercept.AuthorizationFilter@64ff0eaa]
2024-11-04 12:58:03,645 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 12:58:03,650 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.126 seconds (process running for 2.374)
2024-11-04 12:58:11,122 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 12:58:11,133 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@648bfebe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@383a5260, org.springframework.security.web.context.SecurityContextHolderFilter@54c697c, org.springframework.security.web.header.HeaderWriterFilter@506654fa, org.springframework.security.web.authentication.logout.LogoutFilter@60493524, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@4986b0ea, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@31c800a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63e81ac6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79169472, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ce5a2ea, org.springframework.security.web.session.SessionManagementFilter@7fb313e3, org.springframework.security.web.access.ExceptionTranslationFilter@334ac669, org.springframework.security.web.access.intercept.AuthorizationFilter@64ff0eaa]] (1/1)
2024-11-04 12:58:11,134 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing POST /api/admin/postWelcome
2024-11-04 12:58:11,134 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 12:58:11,134 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 12:58:11,135 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 12:58:11,135 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 12:58:11,136 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 12:58:11,136 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 12:58:11,136 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 12:58:11,136 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 12:58:11,136 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/postWelcome
2024-11-04 12:58:11,155 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T05:54:15Z, iat=2024-11-04T17:54:15Z, roles=[ROLE_ADMIN]}
2024-11-04 12:58:11,155 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 12:58:11,227 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 12:58:11,227 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 12:58:11,249 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 12:58:11,250 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 12:58:11,250 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 12:58:11,251 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 12:58:11,251 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 12:58:11,251 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:58:11,251 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 12:58:11,251 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 12:58:11,252 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 12:58:11,252 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 12:58:11,252 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@f3c059a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 12:58:11,252 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 12:58:11,252 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 12:58:11,252 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 12:58:11,253 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /api/admin/postWelcome
2024-11-04 12:58:11,253 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /api/admin/postWelcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 12:58:11,253 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured POST /api/admin/postWelcome
2024-11-04 12:58:11,271 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 12:58:56,839 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:58:56,847 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 12:58:56,860 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 12:58:59,026 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 94213 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 12:58:59,028 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 12:58:59,313 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 12:58:59,337 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 20 ms. Found 1 JPA repository interface.
2024-11-04 12:58:59,565 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 12:58:59,570 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 12:58:59,570 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 12:58:59,592 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 12:58:59,593 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 548 ms
2024-11-04 12:58:59,678 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 12:58:59,704 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 12:58:59,717 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 12:58:59,809 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 12:58:59,820 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 12:58:59,984 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7c956dda
2024-11-04 12:58:59,985 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 12:59:00,004 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 12:59:00,004 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 12:59:00,326 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 12:59:00,363 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 12:59:00,514 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@49482761}
2024-11-04 12:59:00,523 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 12:59:00,530 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:59:00,533 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 12:59:00,537 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 12:59:00,537 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:59:00,537 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 12:59:00,537 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:59:00,537 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 12:59:00,538 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:59:00,543 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 12:59:00,543 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 12:59:00,555 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 12:59:00,773 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@257da215, org.springframework.security.web.header.HeaderWriterFilter@74120029, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e6876, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21f421b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@2740585b, org.springframework.security.web.access.ExceptionTranslationFilter@32f2de5c, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]
2024-11-04 12:59:00,948 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 12:59:00,952 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.168 seconds (process running for 2.403)
2024-11-04 13:00:04,673 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 13:00:04,686 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@257da215, org.springframework.security.web.header.HeaderWriterFilter@74120029, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e6876, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21f421b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@2740585b, org.springframework.security.web.access.ExceptionTranslationFilter@32f2de5c, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 13:00:04,686 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing GET /api/candidate/WELCOME
2024-11-04 13:00:04,687 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:00:04,687 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:00:04,688 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:00:04,688 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:00:04,689 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:00:04,689 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:00:04,689 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:00:04,689 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 13:00:04,689 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/candidate/WELCOME
2024-11-04 13:00:04,710 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.jwt.JwtTimestampValidator :Jwt expired at 2024-10-31T12:46:08Z
2024-11-04 13:00:04,710 ERROR [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] JWT Validation Error: An error occurred while attempting to decode the Jwt: Jwt expired at 2024-10-31T12:46:08Z
2024-11-04 13:00:04,710 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 13:00:04,713 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@257da215, org.springframework.security.web.header.HeaderWriterFilter@74120029, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e6876, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21f421b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@2740585b, org.springframework.security.web.access.ExceptionTranslationFilter@32f2de5c, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 13:00:04,713 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:00:04,714 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:00:04,715 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:00:04,715 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 13:00:04,716 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 13:00:04,716 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:00:04,716 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:00:04,716 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 13:00:04,716 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@1e1b3017
2024-11-04 13:00:04,717 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.ExceptionTranslationFilter :Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:632)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:330)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:267)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:362)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 13:00:36,981 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@257da215, org.springframework.security.web.header.HeaderWriterFilter@74120029, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e6876, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21f421b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@2740585b, org.springframework.security.web.access.ExceptionTranslationFilter@32f2de5c, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 13:00:36,994 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 13:00:36,998 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:00:36,998 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:00:36,998 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:00:36,998 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:00:37,001 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:00:37,001 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:00:37,002 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:00:37,002 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 13:00:37,002 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 13:00:37,002 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:00:37,002 TRACE [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 13:00:37,002 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:00:37,003 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:00:37,003 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:00:37,003 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:00:37,003 TRACE [http-nio-8080-exec-3] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 13:00:37,003 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 13:00:37,004 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:00:37,004 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:00:37,004 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 13:00:37,004 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x00000008015891b8@704515e0
2024-11-04 13:00:37,006 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 13:00:37,077 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: admin@admin.com
2024-11-04 13:00:37,077 TRACE [http-nio-8080-exec-3] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 13:00:37,375 DEBUG [http-nio-8080-exec-3] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 13:00:37,375 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: admin@admin.com
2024-11-04 13:00:37,378 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Admin
2024-11-04 13:00:37,378 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=2, userName=Admin, emailId=Admin@Admin.com, password=$2a$10$7DzELHuVfx/0GOGhr6MM4eBesmUvFwWkblAJyDIUv8EZWQCyXF21a, mobileNumber=1234567890, roles=ADMIN)
2024-11-04 13:00:37,378 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : ADMIN
2024-11-04 13:00:37,378 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Admin@Admin.com is: READ DELETE WRITE
2024-11-04 13:00:37,378 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Admin@Admin.com is : [ROLE_ADMIN]
2024-11-04 13:00:37,395 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Admin at time 2024-11-04T18:00:37.395221Z, has been generated
2024-11-04 13:00:37,410 TRACE [http-nio-8080-exec-3] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 13:00:56,874 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@257da215, org.springframework.security.web.header.HeaderWriterFilter@74120029, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e6876, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21f421b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@2740585b, org.springframework.security.web.access.ExceptionTranslationFilter@32f2de5c, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 13:00:56,875 DEBUG [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Securing GET /api/candidate/WELCOME
2024-11-04 13:00:56,876 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:00:56,876 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:00:56,876 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:00:56,876 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:00:56,876 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:00:56,877 TRACE [http-nio-8080-exec-4] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:00:56,877 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:00:56,877 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 13:00:56,877 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/candidate/WELCOME
2024-11-04 13:00:56,881 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Admin@Admin.com, exp=2024-11-07T06:00:37Z, iat=2024-11-04T18:00:37Z, roles=[ROLE_ADMIN]}
2024-11-04 13:00:56,882 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Admin@Admin.com
2024-11-04 13:00:56,934 TRACE [http-nio-8080-exec-4] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 13:00:56,934 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Admin@Admin.com
2024-11-04 13:00:56,937 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 13:00:56,937 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:00:56,938 TRACE [http-nio-8080-exec-4] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 13:00:56,939 TRACE [http-nio-8080-exec-4] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 13:00:56,939 DEBUG [http-nio-8080-exec-4] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 13:00:56,940 DEBUG [http-nio-8080-exec-4] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6df3bd58, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 13:00:56,940 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:00:56,940 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:00:56,940 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:00:56,940 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:00:56,940 TRACE [http-nio-8080-exec-4] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@6df3bd58, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-11-04 13:00:56,940 TRACE [http-nio-8080-exec-4] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 13:00:56,940 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:00:56,940 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:00:56,940 TRACE [http-nio-8080-exec-4] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/candidate/WELCOME
2024-11-04 13:00:56,940 TRACE [http-nio-8080-exec-4] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/candidate/WELCOME using AuthorityAuthorizationManager[authorities=[ROLE_CANDIDATE, ROLE_ADMIN]]
2024-11-04 13:00:56,941 DEBUG [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Secured GET /api/candidate/WELCOME
2024-11-04 13:00:56,944 TRACE [http-nio-8080-exec-4] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 13:01:05,666 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@257da215, org.springframework.security.web.header.HeaderWriterFilter@74120029, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e6876, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21f421b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@2740585b, org.springframework.security.web.access.ExceptionTranslationFilter@32f2de5c, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 13:01:05,667 DEBUG [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 13:01:05,667 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:01:05,668 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:01:05,668 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:01:05,668 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:01:05,668 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:01:05,668 TRACE [http-nio-8080-exec-5] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:01:05,668 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:01:05,668 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 13:01:05,669 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 13:01:05,669 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:01:05,669 TRACE [http-nio-8080-exec-5] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 13:01:05,669 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:01:05,669 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:01:05,669 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:01:05,669 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:01:05,669 TRACE [http-nio-8080-exec-5] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 13:01:05,669 TRACE [http-nio-8080-exec-5] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 13:01:05,670 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:01:05,670 TRACE [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:01:05,670 TRACE [http-nio-8080-exec-5] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 13:01:05,670 TRACE [http-nio-8080-exec-5] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1493/0x00000008015891b8@704515e0
2024-11-04 13:01:05,670 DEBUG [http-nio-8080-exec-5] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 13:01:05,674 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: Gautam@email.com
2024-11-04 13:01:05,674 TRACE [http-nio-8080-exec-5] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 13:01:05,784 DEBUG [http-nio-8080-exec-5] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 13:01:05,784 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: Gautam@email.com
2024-11-04 13:01:05,786 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Gautam
2024-11-04 13:01:05,786 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=8, userName=Gautam, emailId=Gautam@email.com, password=$2a$10$g1AKErjSJZYV2O9JFDFd5um3zd2oqeaIwsBHyRnpF8Mrqdgic4xWy, mobileNumber=123451234123455, roles=CANDIDATE)
2024-11-04 13:01:05,787 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : CANDIDATE
2024-11-04 13:01:05,787 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Permission for the user Gautam@email.com is: READ
2024-11-04 13:01:05,787 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : [ROLE_CANDIDATE]
2024-11-04 13:01:05,795 INFO  [http-nio-8080-exec-5] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Gautam at time 2024-11-04T18:01:05.795120Z, has been generated
2024-11-04 13:01:05,795 TRACE [http-nio-8080-exec-5] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 13:01:18,231 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@257da215, org.springframework.security.web.header.HeaderWriterFilter@74120029, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e6876, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21f421b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@2740585b, org.springframework.security.web.access.ExceptionTranslationFilter@32f2de5c, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 13:01:18,239 DEBUG [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Securing GET /api/candidate/WELCOME
2024-11-04 13:01:18,239 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:01:18,239 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:01:18,240 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:01:18,240 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:01:18,240 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:01:18,240 TRACE [http-nio-8080-exec-6] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:01:18,240 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:01:18,240 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 13:01:18,241 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/candidate/WELCOME
2024-11-04 13:01:18,253 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Gautam@email.com, exp=2024-11-07T06:01:05Z, iat=2024-11-04T18:01:05Z, roles=[ROLE_CANDIDATE]}
2024-11-04 13:01:18,253 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Gautam@email.com
2024-11-04 13:01:18,290 TRACE [http-nio-8080-exec-6] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 13:01:18,290 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Gautam@email.com
2024-11-04 13:01:18,294 INFO  [http-nio-8080-exec-6] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 13:01:18,294 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:01:18,294 TRACE [http-nio-8080-exec-6] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 13:01:18,295 TRACE [http-nio-8080-exec-6] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 13:01:18,295 DEBUG [http-nio-8080-exec-6] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 13:01:18,295 DEBUG [http-nio-8080-exec-6] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@defee921, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]]
2024-11-04 13:01:18,296 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:01:18,296 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:01:18,296 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:01:18,296 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:01:18,296 TRACE [http-nio-8080-exec-6] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@defee921, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]]
2024-11-04 13:01:18,296 TRACE [http-nio-8080-exec-6] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 13:01:18,296 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:01:18,296 TRACE [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:01:18,296 TRACE [http-nio-8080-exec-6] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/candidate/WELCOME
2024-11-04 13:01:18,296 TRACE [http-nio-8080-exec-6] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/candidate/WELCOME using AuthorityAuthorizationManager[authorities=[ROLE_CANDIDATE, ROLE_ADMIN]]
2024-11-04 13:01:18,296 DEBUG [http-nio-8080-exec-6] org.springframework.security.web.FilterChainProxy :Secured GET /api/candidate/WELCOME
2024-11-04 13:01:18,298 TRACE [http-nio-8080-exec-6] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 13:01:25,739 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@257da215, org.springframework.security.web.header.HeaderWriterFilter@74120029, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e6876, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21f421b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@2740585b, org.springframework.security.web.access.ExceptionTranslationFilter@32f2de5c, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 13:01:25,740 DEBUG [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Securing POST /api/admin/postWelcome
2024-11-04 13:01:25,740 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:01:25,740 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:01:25,740 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:01:25,741 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:01:25,741 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:01:25,741 TRACE [http-nio-8080-exec-7] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:01:25,741 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:01:25,741 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 13:01:25,741 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/admin/postWelcome
2024-11-04 13:01:25,745 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Gautam@email.com, exp=2024-11-07T06:01:05Z, iat=2024-11-04T18:01:05Z, roles=[ROLE_CANDIDATE]}
2024-11-04 13:01:25,745 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Gautam@email.com
2024-11-04 13:01:25,758 TRACE [http-nio-8080-exec-7] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 13:01:25,758 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Gautam@email.com
2024-11-04 13:01:25,761 INFO  [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 13:01:25,761 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:01:25,761 TRACE [http-nio-8080-exec-7] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 13:01:25,762 TRACE [http-nio-8080-exec-7] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 13:01:25,762 DEBUG [http-nio-8080-exec-7] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 13:01:25,762 DEBUG [http-nio-8080-exec-7] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@defee921, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]]
2024-11-04 13:01:25,762 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:01:25,762 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:01:25,762 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:01:25,762 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:01:25,762 TRACE [http-nio-8080-exec-7] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@defee921, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]]
2024-11-04 13:01:25,762 TRACE [http-nio-8080-exec-7] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 13:01:25,762 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:01:25,762 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:01:25,763 TRACE [http-nio-8080-exec-7] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /api/admin/postWelcome
2024-11-04 13:01:25,763 TRACE [http-nio-8080-exec-7] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /api/admin/postWelcome using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN]]
2024-11-04 13:01:25,763 TRACE [http-nio-8080-exec-7] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@defee921, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 13:01:25,770 ERROR [http-nio-8080-exec-7] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 13:01:25,771 TRACE [http-nio-8080-exec-7] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3b8c15de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26398f67, org.springframework.security.web.context.SecurityContextHolderFilter@257da215, org.springframework.security.web.header.HeaderWriterFilter@74120029, org.springframework.security.web.authentication.logout.LogoutFilter@304cad3a, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@64ff0eaa, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2f541f60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e6876, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21f421b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@401b7226, org.springframework.security.web.session.SessionManagementFilter@2740585b, org.springframework.security.web.access.ExceptionTranslationFilter@32f2de5c, org.springframework.security.web.access.intercept.AuthorizationFilter@edf4973]] (1/1)
2024-11-04 13:01:25,774 DEBUG [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Securing POST /error
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:01:25,774 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:01:25,775 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:01:25,775 TRACE [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:01:25,775 TRACE [http-nio-8080-exec-7] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /error
2024-11-04 13:01:25,775 TRACE [http-nio-8080-exec-7] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@1e1b3017
2024-11-04 13:01:25,775 TRACE [http-nio-8080-exec-7] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@defee921, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]]
2024-11-04 13:01:25,775 DEBUG [http-nio-8080-exec-7] org.springframework.security.web.FilterChainProxy :Secured POST /error
2024-11-04 13:05:48,662 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 13:05:48,687 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 13:05:48,740 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 13:06:48,474 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 94347 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 13:06:48,475 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 13:06:48,759 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 13:06:48,780 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interface.
2024-11-04 13:06:49,019 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 13:06:49,024 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 13:06:49,025 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 13:06:49,055 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 13:06:49,056 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 565 ms
2024-11-04 13:06:49,138 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 13:06:49,173 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 13:06:49,185 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 13:06:49,287 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 13:06:49,297 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 13:06:49,460 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@bc8d68b
2024-11-04 13:06:49,461 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 13:06:49,492 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 13:06:49,493 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 13:06:49,798 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 13:06:49,904 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 13:06:50,109 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@248ba4fc}
2024-11-04 13:06:50,119 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 13:06:50,127 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 13:06:50,130 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 13:06:50,133 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 13:06:50,134 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 13:06:50,134 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 13:06:50,134 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 13:06:50,134 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 13:06:50,134 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 13:06:50,138 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 13:06:50,138 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 13:06:50,150 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 13:06:50,381 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60493524, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1da5635e, org.springframework.security.web.context.SecurityContextHolderFilter@4f4b7a2e, org.springframework.security.web.header.HeaderWriterFilter@3bf306d3, org.springframework.security.web.authentication.logout.LogoutFilter@19f9404d, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@7c35d7d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@29767156, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77430c79, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5febe9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24ccc91b, org.springframework.security.web.session.SessionManagementFilter@f3e6876, org.springframework.security.web.access.ExceptionTranslationFilter@61c42e54, org.springframework.security.web.access.intercept.AuthorizationFilter@6e68ccc9]
2024-11-04 13:06:50,549 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 13:06:50,554 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.331 seconds (process running for 2.606)
2024-11-04 13:06:59,662 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 13:06:59,675 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@60493524, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1da5635e, org.springframework.security.web.context.SecurityContextHolderFilter@4f4b7a2e, org.springframework.security.web.header.HeaderWriterFilter@3bf306d3, org.springframework.security.web.authentication.logout.LogoutFilter@19f9404d, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@7c35d7d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@29767156, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77430c79, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5febe9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24ccc91b, org.springframework.security.web.session.SessionManagementFilter@f3e6876, org.springframework.security.web.access.ExceptionTranslationFilter@61c42e54, org.springframework.security.web.access.intercept.AuthorizationFilter@6e68ccc9]] (1/1)
2024-11-04 13:06:59,675 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing GET /api/candidate/WELCOME
2024-11-04 13:06:59,675 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:06:59,675 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:06:59,677 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:06:59,677 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:06:59,678 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:06:59,678 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:06:59,678 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:06:59,678 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 13:06:59,678 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/candidate/WELCOME
2024-11-04 13:06:59,704 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Gautam@email.com, exp=2024-11-07T06:01:05Z, iat=2024-11-04T18:01:05Z, roles=[ROLE_CANDIDATE]}
2024-11-04 13:06:59,704 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Gautam@email.com
2024-11-04 13:06:59,777 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 13:06:59,777 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Gautam@email.com
2024-11-04 13:06:59,780 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 13:06:59,780 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:06:59,780 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 13:06:59,781 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Returning no authorities since could not find any claims that might contain scopes
2024-11-04 13:06:59,781 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 13:06:59,781 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@defee921, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2024-11-04 13:06:59,781 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:06:59,781 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:06:59,782 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:06:59,782 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:06:59,782 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@defee921, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2024-11-04 13:06:59,782 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 13:06:59,782 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:06:59,782 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:06:59,782 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/candidate/WELCOME
2024-11-04 13:06:59,783 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/candidate/WELCOME using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_CANDIDATE]]
2024-11-04 13:06:59,783 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@defee921, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 13:06:59,785 ERROR [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 13:06:59,785 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@60493524, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1da5635e, org.springframework.security.web.context.SecurityContextHolderFilter@4f4b7a2e, org.springframework.security.web.header.HeaderWriterFilter@3bf306d3, org.springframework.security.web.authentication.logout.LogoutFilter@19f9404d, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@7c35d7d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@29767156, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77430c79, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5febe9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24ccc91b, org.springframework.security.web.session.SessionManagementFilter@f3e6876, org.springframework.security.web.access.ExceptionTranslationFilter@61c42e54, org.springframework.security.web.access.intercept.AuthorizationFilter@6e68ccc9]] (1/1)
2024-11-04 13:06:59,788 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:06:59,788 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 13:06:59,789 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@453ba96d
2024-11-04 13:06:59,789 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@defee921, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2024-11-04 13:06:59,789 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured GET /error
2024-11-04 13:07:06,146 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@60493524, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1da5635e, org.springframework.security.web.context.SecurityContextHolderFilter@4f4b7a2e, org.springframework.security.web.header.HeaderWriterFilter@3bf306d3, org.springframework.security.web.authentication.logout.LogoutFilter@19f9404d, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@7c35d7d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@29767156, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77430c79, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5febe9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24ccc91b, org.springframework.security.web.session.SessionManagementFilter@f3e6876, org.springframework.security.web.access.ExceptionTranslationFilter@61c42e54, org.springframework.security.web.access.intercept.AuthorizationFilter@6e68ccc9]] (1/1)
2024-11-04 13:07:06,147 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Securing POST /sign-in
2024-11-04 13:07:06,147 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:07:06,147 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:07:06,148 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:07:06,148 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:07:06,148 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:07:06,148 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:07:06,148 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:07:06,148 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 13:07:06,148 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /sign-in
2024-11-04 13:07:06,149 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:07:06,149 TRACE [http-nio-8080-exec-3] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Did not process request since did not find bearer token
2024-11-04 13:07:06,149 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:07:06,149 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:07:06,149 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:07:06,149 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:07:06,149 TRACE [http-nio-8080-exec-3] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 13:07:06,152 TRACE [http-nio-8080-exec-3] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2024-11-04 13:07:06,153 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:07:06,153 TRACE [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:07:06,153 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing POST /sign-in
2024-11-04 13:07:06,153 TRACE [http-nio-8080-exec-3] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on POST /sign-in using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1492/0x00000008015831b8@2f8f906d
2024-11-04 13:07:06,153 DEBUG [http-nio-8080-exec-3] org.springframework.security.web.FilterChainProxy :Secured POST /sign-in
2024-11-04 13:07:06,215 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.controller.AuthController :Attempting to sign in user with email: Gautam@email.com
2024-11-04 13:07:06,215 TRACE [http-nio-8080-exec-3] org.springframework.security.authentication.ProviderManager :Authenticating request with DaoAuthenticationProvider (1/1)
2024-11-04 13:07:06,396 DEBUG [http-nio-8080-exec-3] org.springframework.security.authentication.dao.DaoAuthenticationProvider :Authenticated user
2024-11-04 13:07:06,397 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.controller.AuthController :Authentication successful for user: Gautam@email.com
2024-11-04 13:07:06,403 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :[JwtTokenGenerator:generateAccessToken] Token Creation Started for:Gautam
2024-11-04 13:07:06,404 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :User info : UserInfoEntity(id=8, userName=Gautam, emailId=Gautam@email.com, password=$2a$10$g1AKErjSJZYV2O9JFDFd5um3zd2oqeaIwsBHyRnpF8Mrqdgic4xWy, mobileNumber=123451234123455, roles=CANDIDATE)
2024-11-04 13:07:06,405 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : CANDIDATE
2024-11-04 13:07:06,405 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.config.jwtConfig.JwtTokenGenerator :Role for the user Gautam@email.com is : [ROLE_CANDIDATE]
2024-11-04 13:07:06,425 INFO  [http-nio-8080-exec-3] com.learning.jwt_oauth2.service.AuthService :[AuthService:userSignInAuth] Access token for user : Gautam at time 2024-11-04T18:07:06.425016Z, has been generated
2024-11-04 13:07:06,438 TRACE [http-nio-8080-exec-3] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 13:07:30,516 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@60493524, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1da5635e, org.springframework.security.web.context.SecurityContextHolderFilter@4f4b7a2e, org.springframework.security.web.header.HeaderWriterFilter@3bf306d3, org.springframework.security.web.authentication.logout.LogoutFilter@19f9404d, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@7c35d7d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@29767156, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77430c79, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5febe9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24ccc91b, org.springframework.security.web.session.SessionManagementFilter@f3e6876, org.springframework.security.web.access.ExceptionTranslationFilter@61c42e54, org.springframework.security.web.access.intercept.AuthorizationFilter@6e68ccc9]] (1/1)
2024-11-04 13:07:30,518 DEBUG [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Securing GET /api/candidate/WELCOME
2024-11-04 13:07:30,518 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:07:30,519 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:07:30,519 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:07:30,519 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:07:30,519 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:07:30,520 TRACE [http-nio-8080-exec-4] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:07:30,520 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:07:30,520 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 13:07:30,520 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/candidate/WELCOME
2024-11-04 13:07:30,524 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Gautam@email.com, exp=2024-11-07T06:07:06Z, iat=2024-11-04T18:07:06Z, roles=[ROLE_CANDIDATE]}
2024-11-04 13:07:30,524 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Gautam@email.com
2024-11-04 13:07:30,535 TRACE [http-nio-8080-exec-4] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 13:07:30,535 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Gautam@email.com
2024-11-04 13:07:30,537 INFO  [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 13:07:30,537 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:07:30,538 TRACE [http-nio-8080-exec-4] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 13:07:30,539 TRACE [http-nio-8080-exec-4] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Returning no authorities since could not find any claims that might contain scopes
2024-11-04 13:07:30,539 DEBUG [http-nio-8080-exec-4] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 13:07:30,539 DEBUG [http-nio-8080-exec-4] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@53761208, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2024-11-04 13:07:30,539 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:07:30,539 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:07:30,539 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:07:30,539 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:07:30,539 TRACE [http-nio-8080-exec-4] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@53761208, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2024-11-04 13:07:30,540 TRACE [http-nio-8080-exec-4] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 13:07:30,540 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:07:30,540 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:07:30,540 TRACE [http-nio-8080-exec-4] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/candidate/WELCOME
2024-11-04 13:07:30,540 TRACE [http-nio-8080-exec-4] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/candidate/WELCOME using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_CANDIDATE]]
2024-11-04 13:07:30,540 TRACE [http-nio-8080-exec-4] org.springframework.security.web.access.ExceptionTranslationFilter :Sending JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@53761208, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]] to access denied handler since access is denied
org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter.doFilterInternal(JwtAccessTokenFilter.java:104)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-11-04 13:07:30,542 ERROR [http-nio-8080-exec-4] com.learning.jwt_oauth2.config.SecurityConfig :[SecurityConfig] Access denied: Access Denied
2024-11-04 13:07:30,542 TRACE [http-nio-8080-exec-4] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
2024-11-04 13:07:30,543 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@60493524, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1da5635e, org.springframework.security.web.context.SecurityContextHolderFilter@4f4b7a2e, org.springframework.security.web.header.HeaderWriterFilter@3bf306d3, org.springframework.security.web.authentication.logout.LogoutFilter@19f9404d, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@7c35d7d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@29767156, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77430c79, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5febe9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24ccc91b, org.springframework.security.web.session.SessionManagementFilter@f3e6876, org.springframework.security.web.access.ExceptionTranslationFilter@61c42e54, org.springframework.security.web.access.intercept.AuthorizationFilter@6e68ccc9]] (1/1)
2024-11-04 13:07:30,543 DEBUG [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Securing GET /error
2024-11-04 13:07:30,543 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:07:30,543 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /error
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /error using org.springframework.security.authorization.AuthenticatedAuthorizationManager@453ba96d
2024-11-04 13:07:30,544 TRACE [http-nio-8080-exec-4] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@53761208, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2024-11-04 13:07:30,544 DEBUG [http-nio-8080-exec-4] org.springframework.security.web.FilterChainProxy :Secured GET /error
2024-11-04 13:08:14,482 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Closing JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 13:08:14,486 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown initiated...
2024-11-04 13:08:14,493 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Shutdown completed.
2024-11-04 13:08:16,793 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Starting JwtOauth2Application using Java 17.0.7 with PID 94361 (/Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2/target/classes started by gautamjaganatha in /Users/gautamjaganatha/Documents/JWT-OAUTH2/jwt-oauth2)
2024-11-04 13:08:16,795 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :No active profile set, falling back to 1 default profile: "default"
2024-11-04 13:08:17,071 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-11-04 13:08:17,091 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate :Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interface.
2024-11-04 13:08:17,326 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat initialized with port 8080 (http)
2024-11-04 13:08:17,332 INFO  [main] org.apache.catalina.core.StandardService :Starting service [Tomcat]
2024-11-04 13:08:17,332 INFO  [main] org.apache.catalina.core.StandardEngine :Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-11-04 13:08:17,350 INFO  [main] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring embedded WebApplicationContext
2024-11-04 13:08:17,350 INFO  [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext :Root WebApplicationContext: initialization completed in 528 ms
2024-11-04 13:08:17,427 INFO  [main] org.hibernate.jpa.internal.util.LogHelper :HHH000204: Processing PersistenceUnitInfo [name: default]
2024-11-04 13:08:17,459 INFO  [main] org.hibernate.Version :HHH000412: Hibernate ORM core version 6.4.10.Final
2024-11-04 13:08:17,478 INFO  [main] org.hibernate.cache.internal.RegionFactoryInitiator :HHH000026: Second-level cache disabled
2024-11-04 13:08:17,553 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo :No LoadTimeWeaver setup: ignoring JPA class transformer
2024-11-04 13:08:17,563 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Starting...
2024-11-04 13:08:17,691 INFO  [main] com.zaxxer.hikari.pool.HikariPool :HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4c50cd7d
2024-11-04 13:08:17,692 INFO  [main] com.zaxxer.hikari.HikariDataSource :HikariPool-1 - Start completed.
2024-11-04 13:08:17,711 WARN  [main] org.hibernate.orm.deprecation :HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-11-04 13:08:17,712 WARN  [main] org.hibernate.orm.deprecation :HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-11-04 13:08:18,006 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator :HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-11-04 13:08:18,038 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean :Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-11-04 13:08:18,186 TRACE [main] org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration$EnableGlobalAuthenticationAutowiredConfigurer :Eagerly initializing {securityConfig=com.learning.jwt_oauth2.config.SecurityConfig$$SpringCGLIB$$0@47d7e4b6}
2024-11-04 13:08:18,199 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()
2024-11-04 13:08:18,208 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getMessage()]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 13:08:18,211 TRACE [main] org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor :Validated configuration attributes
2024-11-04 13:08:18,214 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)
2024-11-04 13:08:18,214 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getFirstWelcomeMessage(org.springframework.security.core.Authentication)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 13:08:18,214 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_READ\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)
2024-11-04 13:08:18,214 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getManagerData(java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_READ')', filter: 'null', filterTarget: 'null']]
2024-11-04 13:08:18,214 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasAuthority(\'SCOPE_WRITE\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)
2024-11-04 13:08:18,214 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.DashboardController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.DashboardController.getAdminData(java.lang.String,java.security.Principal)]] with attributes [[authorize: 'hasAuthority('SCOPE_WRITE')', filter: 'null', filterTarget: 'null']]
2024-11-04 13:08:18,219 DEBUG [main] org.springframework.security.access.prepost.PrePostAnnotationSecurityMetadataSource :@org.springframework.security.access.prepost.PreAuthorize("hasRole(\'ROLE_ADMIN\')") found on specific method: public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()
2024-11-04 13:08:18,219 DEBUG [main] org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource :Caching method [CacheKey[com.learning.jwt_oauth2.controller.adminController; public org.springframework.http.ResponseEntity com.learning.jwt_oauth2.controller.adminController.getMessage()]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2024-11-04 13:08:18,231 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration :spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-11-04 13:08:18,443 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain :Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63e81ac6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45775a15, org.springframework.security.web.context.SecurityContextHolderFilter@79aa675b, org.springframework.security.web.header.HeaderWriterFilter@18356d9e, org.springframework.security.web.authentication.logout.LogoutFilter@77430c79, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2396dc4e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@54c697c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38eafdab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3031d9e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bb888b7, org.springframework.security.web.session.SessionManagementFilter@287dde94, org.springframework.security.web.access.ExceptionTranslationFilter@5a3d52a0, org.springframework.security.web.access.intercept.AuthorizationFilter@2e7dd504]
2024-11-04 13:08:18,607 INFO  [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer :Tomcat started on port 8080 (http) with context path ''
2024-11-04 13:08:18,611 INFO  [main] com.learning.jwt_oauth2.JwtOauth2Application :Started JwtOauth2Application in 2.081 seconds (process running for 2.325)
2024-11-04 13:08:22,948 INFO  [http-nio-8080-exec-1] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] :Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-04 13:08:22,961 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@63e81ac6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45775a15, org.springframework.security.web.context.SecurityContextHolderFilter@79aa675b, org.springframework.security.web.header.HeaderWriterFilter@18356d9e, org.springframework.security.web.authentication.logout.LogoutFilter@77430c79, com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter@2396dc4e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@54c697c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38eafdab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3031d9e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bb888b7, org.springframework.security.web.session.SessionManagementFilter@287dde94, org.springframework.security.web.access.ExceptionTranslationFilter@5a3d52a0, org.springframework.security.web.access.intercept.AuthorizationFilter@2e7dd504]] (1/1)
2024-11-04 13:08:22,961 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Securing GET /api/candidate/WELCOME
2024-11-04 13:08:22,961 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking DisableEncodeUrlFilter (1/13)
2024-11-04 13:08:22,962 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking WebAsyncManagerIntegrationFilter (2/13)
2024-11-04 13:08:22,963 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderFilter (3/13)
2024-11-04 13:08:22,963 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking HeaderWriterFilter (4/13)
2024-11-04 13:08:22,964 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking LogoutFilter (5/13)
2024-11-04 13:08:22,964 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.logout.LogoutFilter :Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2024-11-04 13:08:22,964 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking JwtAccessTokenFilter (6/13)
2024-11-04 13:08:22,964 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] :: Started 
2024-11-04 13:08:22,964 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Filtering the Http Request: /api/candidate/WELCOME
2024-11-04 13:08:22,983 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Decoded JWT Claims: {iss=gautam, sub=Gautam@email.com, exp=2024-11-07T06:07:06Z, iat=2024-11-04T18:07:06Z, roles=[ROLE_CANDIDATE]}
2024-11-04 13:08:22,983 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Username of token is : Gautam@email.com
2024-11-04 13:08:23,070 TRACE [http-nio-8080-exec-1] org.springframework.security.web.context.SupplierDeferredSecurityContext :Created SecurityContextImpl [Null authentication]
2024-11-04 13:08:23,070 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :Found user with emailId: Gautam@email.com
2024-11-04 13:08:23,072 INFO  [http-nio-8080-exec-1] com.learning.jwt_oauth2.config.jwtConfig.JwtAccessTokenFilter :[JwtAccessTokenFilter:doFilterInternal] Completed
2024-11-04 13:08:23,072 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking BearerTokenAuthenticationFilter (7/13)
2024-11-04 13:08:23,072 TRACE [http-nio-8080-exec-1] org.springframework.security.authentication.ProviderManager :Authenticating request with JwtAuthenticationProvider (1/3)
2024-11-04 13:08:23,073 TRACE [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtGrantedAuthoritiesConverter :Looking for scopes in claim roles
2024-11-04 13:08:23,073 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider :Authenticated token
2024-11-04 13:08:23,073 DEBUG [http-nio-8080-exec-1] org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter :Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@53761208, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]]
2024-11-04 13:08:23,073 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking RequestCacheAwareFilter (8/13)
2024-11-04 13:08:23,073 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SecurityContextHolderAwareRequestFilter (9/13)
2024-11-04 13:08:23,074 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AnonymousAuthenticationFilter (10/13)
2024-11-04 13:08:23,074 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking SessionManagementFilter (11/13)
2024-11-04 13:08:23,074 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.AnonymousAuthenticationFilter :Did not set SecurityContextHolder since already authenticated JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@53761208, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_CANDIDATE]]
2024-11-04 13:08:23,074 TRACE [http-nio-8080-exec-1] org.springframework.security.web.authentication.session.CompositeSessionAuthenticationStrategy :Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2024-11-04 13:08:23,074 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking ExceptionTranslationFilter (12/13)
2024-11-04 13:08:23,074 TRACE [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Invoking AuthorizationFilter (13/13)
2024-11-04 13:08:23,074 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Authorizing GET /api/candidate/WELCOME
2024-11-04 13:08:23,075 TRACE [http-nio-8080-exec-1] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager :Checking authorization on GET /api/candidate/WELCOME using AuthorityAuthorizationManager[authorities=[ROLE_ADMIN, ROLE_CANDIDATE]]
2024-11-04 13:08:23,075 DEBUG [http-nio-8080-exec-1] org.springframework.security.web.FilterChainProxy :Secured GET /api/candidate/WELCOME
2024-11-04 13:08:23,089 TRACE [http-nio-8080-exec-1] org.springframework.security.web.header.writers.HstsHeaderWriter :Not injecting HSTS header since it did not match request to [Is Secure]
